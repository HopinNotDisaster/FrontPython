
<!DOCTYPE html>

<html lang="zh_Hans">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GDAL API &#8212; Django 5.0.4.dev20240329153429 文档</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/default.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="搜索" href="../../../search.html" />
    <link rel="next" title="用 GeoIP2 进行地理定位" href="geoip2.html" />
    <link rel="prev" title="GEOS API" href="geos.html" />



 
<script src="../../../templatebuiltins.js"></script>
<script>
(function($) {
    if (!django_template_builtins) {
       // templatebuiltins.js missing, do nothing.
       return;
    }
    $(document).ready(function() {
        // Hyperlink Django template tags and filters
        var base = "../../templates/builtins.html";
        if (base == "#") {
            // Special case for builtins.html itself
            base = "";
        }
        // Tags are keywords, class '.k'
        $("div.highlight\\-html\\+django span.k").each(function(i, elem) {
             var tagname = $(elem).text();
             if ($.inArray(tagname, django_template_builtins.ttags) != -1) {
                 var fragment = tagname.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + tagname + "</a>");
             }
        });
        // Filters are functions, class '.nf'
        $("div.highlight\\-html\\+django span.nf").each(function(i, elem) {
             var filtername = $(elem).text();
             if ($.inArray(filtername, django_template_builtins.tfilters) != -1) {
                 var fragment = filtername.replace(/_/, '-');
                 $(elem).html("<a href='" + base + "#" + fragment + "'>" + filtername + "</a>");
             }
        });
    });
})(jQuery);</script>

  </head><body>

    <div class="document">
  <div id="custom-doc" class="yui-t6">
    <div id="hd">
      <h1><a href="../../../index.html">Django 5.0.4.dev20240329153429 文档</a></h1>
      <div id="global-nav">
        <a title="Home page" href="../../../index.html">Home</a>  |
        <a title="Table of contents" href="../../../contents.html">Table of contents</a>  |
        <a title="Global index" href="../../../genindex.html">Index</a>  |
        <a title="Module index" href="../../../py-modindex.html">Modules</a>
      </div>
      <div class="nav">
    &laquo; <a href="geos.html" title="GEOS API">previous</a>
     |
    <a href="../../index.html" title="API 参考" accesskey="U">up</a>
   |
    <a href="geoip2.html" title="用 GeoIP2 进行地理定位">next</a> &raquo;</div>
    </div>

    <div id="bd">
      <div id="yui-main">
        <div class="yui-b">
          <div class="yui-g" id="ref-contrib-gis-gdal">
            
  <div class="section" id="s-module-django.contrib.gis.gdal">
<span id="s-gdal-api"></span><span id="module-django.contrib.gis.gdal"></span><span id="gdal-api"></span><h1>GDAL API<a class="headerlink" href="#module-django.contrib.gis.gdal" title="永久链接至标题">¶</a></h1>
<p><a href="#id9"><span class="problematic" id="id10">`GDAL`__</span></a> 代表 <strong>Geospatial Data Abstraction Library</strong>，是 GIS 数据功能的一种多功能工具。GDAL 的一个子集是 <a href="#id9"><span class="problematic" id="id11">`OGR`__</span></a> Simple Features Library，专门用于读取和写入各种标准格式的矢量地理数据。</p>
<p>GeoDjango 提供了 OGR 的一些功能的高级 Python 接口，包括读取和坐标转换矢量空间数据，以及对于栅格（图像）数据方面的有限支持。</p>
<div class="admonition note">
<p class="first admonition-title">备注</p>
<p class="last">尽管模块名为 <code class="docutils literal notranslate"><span class="pre">gdal</span></code>，但目前 GeoDjango 仅支持 OGR 的一些功能以及 GDAL 的栅格功能的一部分。</p>
</div>
<div class="section" id="s-overview">
<span id="overview"></span><h2>概况<a class="headerlink" href="#overview" title="永久链接至标题">¶</a></h2>
<div class="section" id="s-sample-data">
<span id="s-gdal-sample-data"></span><span id="sample-data"></span><span id="gdal-sample-data"></span><h3>样本数据<a class="headerlink" href="#sample-data" title="永久链接至标题">¶</a></h3>
<p>在这里描述的 GDAL/OGR 工具旨在帮助您读取您的地理空间数据，但要使它们大多数工具有用，您必须拥有一些要处理的数据。如果您刚开始，还没有自己的数据可供使用，GeoDjango 测试包含许多数据集，您可以用于测试。您可以从以下位置下载它们：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>wget<span class="w"> </span>https://raw.githubusercontent.com/django/django/main/tests/gis_tests/data/cities/cities.<span class="o">{</span>shp,prj,shx,dbf<span class="o">}</span>
$<span class="w"> </span>wget<span class="w"> </span>https://raw.githubusercontent.com/django/django/main/tests/gis_tests/data/rasters/raster.tif
</pre></div>
</div>
</div>
</div>
<div class="section" id="s-vector-data-source-objects">
<span id="vector-data-source-objects"></span><h2>矢量数据源对象<a class="headerlink" href="#vector-data-source-objects" title="永久链接至标题">¶</a></h2>
<div class="section" id="s-datasource">
<span id="datasource"></span><h3><code class="docutils literal notranslate"><span class="pre">DataSource</span></code><a class="headerlink" href="#datasource" title="永久链接至标题">¶</a></h3>
<p><a class="reference internal" href="#django.contrib.gis.gdal.DataSource" title="django.contrib.gis.gdal.DataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSource</span></code></a> 是对 OGR 数据源对象的封装，支持使用一致的接口从各种 OGR 支持的地理空间文件格式和数据源中读取数据。每个数据源都由一个 <a class="reference internal" href="#django.contrib.gis.gdal.DataSource" title="django.contrib.gis.gdal.DataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSource</span></code></a> 对象表示，其中包含一个或多个数据层。每个数据层，由 <a class="reference internal" href="#django.contrib.gis.gdal.Layer" title="django.contrib.gis.gdal.Layer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Layer</span></code></a> 对象表示，包含一定数量的地理要素（<a class="reference internal" href="#django.contrib.gis.gdal.Feature" title="django.contrib.gis.gdal.Feature"><code class="xref py py-class docutils literal notranslate"><span class="pre">Feature</span></code></a>），以及关于该层中包含的要素类型（例如点、多边形等）的信息，以及与该层中每个要素相关联的任何附加字段（<a class="reference internal" href="#django.contrib.gis.gdal.Field" title="django.contrib.gis.gdal.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a>）的名称和类型的信息。</p>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.DataSource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">DataSource</span></code>(<em><span class="n"><span class="pre">ds_input</span></span></em>, <em><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.DataSource" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">DataSource</span></code> 的构造函数只需要一个参数：您要读取的文件的路径。然而，OGR 还支持各种更复杂的数据源，包括数据库，可以通过传递特殊的名称字符串而不是路径来访问。有关更多信息，请参阅 <a href="#id9"><span class="problematic" id="id12">`OGR Vector Formats`__</span></a> 文档。<code class="docutils literal notranslate"><span class="pre">DataSource</span></code> 实例的 <a class="reference internal" href="#django.contrib.gis.gdal.DataSource.name" title="django.contrib.gis.gdal.DataSource.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> 属性提供了它所使用的底层数据源的 OGR 名称。</p>
<p>可选的 <code class="docutils literal notranslate"><span class="pre">encoding</span></code> 参数允许您指定源中字符串的非标准编码。通常在读取字段值时遇到 <code class="docutils literal notranslate"><span class="pre">DjangoUnicodeDecodeError</span></code> 异常时，这非常有用。</p>
<p>创建了您的 <code class="docutils literal notranslate"><span class="pre">DataSource</span></code> 之后，您可以通过访问 <a class="reference internal" href="#django.contrib.gis.gdal.DataSource.layer_count" title="django.contrib.gis.gdal.DataSource.layer_count"><code class="xref py py-attr docutils literal notranslate"><span class="pre">layer_count</span></code></a> 属性或（等效地）使用 <code class="docutils literal notranslate"><span class="pre">len()</span></code> 函数来查找它包含多少层数据。有关访问数据层本身的信息，请参阅下一节：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.contrib.gis.gdal</span> <span class="kn">import</span> <span class="n">DataSource</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">DataSource</span><span class="p">(</span><span class="s2">&quot;/path/to/your/cities.shp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;/path/to/your/cities.shp&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">layer_count</span>  <span class="c1"># This file only contains one layer</span>
<span class="go">1</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.DataSource.layer_count">
<code class="sig-name descname"><span class="pre">layer_count</span></code><a class="headerlink" href="#django.contrib.gis.gdal.DataSource.layer_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回数据源中的层数。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.DataSource.name">
<code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.DataSource.name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回数据源的名称。</p>
</dd></dl>

</div>
<div class="section" id="s-layer">
<span id="layer"></span><h3><code class="docutils literal notranslate"><span class="pre">Layer</span></code><a class="headerlink" href="#layer" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">Layer</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">Layer</span></code> 是 <code class="docutils literal notranslate"><span class="pre">DataSource</span></code> 对象中的数据层的封装。您不会直接创建 <code class="docutils literal notranslate"><span class="pre">Layer</span></code> 对象。相反，您可以从 <a class="reference internal" href="#django.contrib.gis.gdal.DataSource" title="django.contrib.gis.gdal.DataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSource</span></code></a> 对象中检索它们，后者本质上是包含 <code class="docutils literal notranslate"><span class="pre">Layer</span></code> 对象的标准 Python 容器。例如，您可以通过索引访问特定的层（例如 <code class="docutils literal notranslate"><span class="pre">ds[0]</span></code> 来访问第一个层），或者您可以在一个 <code class="docutils literal notranslate"><span class="pre">for</span></code> 循环中迭代容器中的所有层。<code class="docutils literal notranslate"><span class="pre">Layer</span></code> 本身充当几何要素的容器。</p>
<p>通常，给定层中的所有要素具有相同的几何类型。层的 <a class="reference internal" href="#django.contrib.gis.gdal.Layer.geom_type" title="django.contrib.gis.gdal.Layer.geom_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">geom_type</span></code></a> 属性是一个 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeomType" title="django.contrib.gis.gdal.OGRGeomType"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeomType</span></code></a>，用于标识要素类型。我们可以使用它来打印出 <a class="reference internal" href="#django.contrib.gis.gdal.DataSource" title="django.contrib.gis.gdal.DataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSource</span></code></a> 中每个层的一些基本信息：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">ds</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Layer &quot;</span><span class="si">%s</span><span class="s1">&quot;: </span><span class="si">%i</span><span class="s1"> </span><span class="si">%s</span><span class="s1">s&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">layer</span><span class="p">),</span> <span class="n">layer</span><span class="o">.</span><span class="n">geom_type</span><span class="o">.</span><span class="n">name</span><span class="p">))</span>
<span class="gp">...</span>
<span class="go">Layer &quot;cities&quot;: 3 Points</span>
</pre></div>
</div>
<p>示例输出来自上面加载的名为 <code class="docutils literal notranslate"><span class="pre">&quot;cities&quot;</span></code> 的城市数据源，显然包含一个名为 <code class="docutils literal notranslate"><span class="pre">&quot;cities&quot;</span></code> 的层，其中包含三个点要素。为简单起见，以下示例假定您已将该层存储在变量 <code class="docutils literal notranslate"><span class="pre">layer</span></code> 中：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span> <span class="o">=</span> <span class="n">ds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.name">
<code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer.name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回数据源中此层的名称。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;cities&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.num_feat">
<code class="sig-name descname"><span class="pre">num_feat</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer.num_feat" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回该层中的要素数量。与 <code class="docutils literal notranslate"><span class="pre">len(layer)</span></code> 相同：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">num_feat</span>
<span class="go">3</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.geom_type">
<code class="sig-name descname"><span class="pre">geom_type</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer.geom_type" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回层的几何类型，作为一个 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeomType" title="django.contrib.gis.gdal.OGRGeomType"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeomType</span></code></a> 对象：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">geom_type</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;Point&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.num_fields">
<code class="sig-name descname"><span class="pre">num_fields</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer.num_fields" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回该层中的字段数量，即与该层中的每个要素相关联的数据字段的数量：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">num_fields</span>
<span class="go">4</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.fields">
<code class="sig-name descname"><span class="pre">fields</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer.fields" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回该层中每个字段的名称列表：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">fields</span>
<span class="go">[&#39;Name&#39;, &#39;Population&#39;, &#39;Density&#39;, &#39;Created&#39;]</span>
</pre></div>
</div>
<p>返回该层中每个字段的数据类型列表。这些是 <code class="docutils literal notranslate"><span class="pre">Field</span></code> 的子类，下面将讨论这些子类：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">ft</span><span class="o">.</span><span class="vm">__name__</span> <span class="k">for</span> <span class="n">ft</span> <span class="ow">in</span> <span class="n">layer</span><span class="o">.</span><span class="n">field_types</span><span class="p">]</span>
<span class="go">[&#39;OFTString&#39;, &#39;OFTReal&#39;, &#39;OFTReal&#39;, &#39;OFTDate&#39;]</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.field_widths">
<code class="sig-name descname"><span class="pre">field_widths</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer.field_widths" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回该层中每个字段的最大字段宽度列表：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">field_widths</span>
<span class="go">[80, 11, 24, 10]</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.field_precisions">
<code class="sig-name descname"><span class="pre">field_precisions</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer.field_precisions" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回该层中每个字段的数值精度列表。对于非数值字段，这是无意义的（并设置为零）：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">field_precisions</span>
<span class="go">[0, 0, 15, 0]</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.extent">
<code class="sig-name descname"><span class="pre">extent</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer.extent" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此图层的空间范围，作为一个 <a class="reference internal" href="#django.contrib.gis.gdal.Envelope" title="django.contrib.gis.gdal.Envelope"><code class="xref py py-class docutils literal notranslate"><span class="pre">Envelope</span></code></a> 对象：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">extent</span><span class="o">.</span><span class="n">tuple</span>
<span class="go">(-104.609252, 29.763374, -95.23506, 38.971823)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.srs">
<code class="sig-name descname"><span class="pre">srs</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer.srs" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回与此图层关联的 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 的属性：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">srs</span><span class="p">)</span>
<span class="go">GEOGCS[&quot;GCS_WGS_1984&quot;,</span>
<span class="go">    DATUM[&quot;WGS_1984&quot;,</span>
<span class="go">        SPHEROID[&quot;WGS_1984&quot;,6378137,298.257223563]],</span>
<span class="go">    PRIMEM[&quot;Greenwich&quot;,0],</span>
<span class="go">    UNIT[&quot;Degree&quot;,0.017453292519943295]]</span>
</pre></div>
</div>
<p>如果 <a class="reference internal" href="#django.contrib.gis.gdal.Layer" title="django.contrib.gis.gdal.Layer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Layer</span></code></a> 没有与之关联的空间参考信息，则返回 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.spatial_filter">
<code class="sig-name descname"><span class="pre">spatial_filter</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Layer.spatial_filter" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>可用于检索或设置此图层的空间过滤器的属性。空间过滤器只能使用 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 实例、4-元组范围或 <code class="docutils literal notranslate"><span class="pre">None</span></code> 进行设置。当使用非 <code class="docutils literal notranslate"><span class="pre">None</span></code> 值进行设置时，在对图层进行迭代时，只返回与过滤器相交的要素：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">spatial_filter</span><span class="p">)</span>
<span class="go">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">layer</span><span class="p">))</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">feat</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">feat</span> <span class="ow">in</span> <span class="n">layer</span><span class="p">]</span>
<span class="go">[&#39;Pueblo&#39;, &#39;Lawrence&#39;, &#39;Houston&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ks_extent</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">102.051</span><span class="p">,</span> <span class="mf">36.99</span><span class="p">,</span> <span class="o">-</span><span class="mf">94.59</span><span class="p">,</span> <span class="mf">40.00</span><span class="p">)</span>  <span class="c1"># Extent for state of Kansas</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">spatial_filter</span> <span class="o">=</span> <span class="n">ks_extent</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">feat</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">feat</span> <span class="ow">in</span> <span class="n">layer</span><span class="p">]</span>
<span class="go">[&#39;Lawrence&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">spatial_filter</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.get_fields">
<code class="sig-name descname"><span class="pre">get_fields</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.Layer.get_fields" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>一个方法，返回图层中每个要素给定字段的值列表：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">layer</span><span class="o">.</span><span class="n">get_fields</span><span class="p">(</span><span class="s2">&quot;Name&quot;</span><span class="p">)</span>
<span class="go">[&#39;Pueblo&#39;, &#39;Lawrence&#39;, &#39;Houston&#39;]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.get_geoms">
<code class="sig-name descname"><span class="pre">get_geoms</span></code>(<em><span class="n"><span class="pre">geos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.Layer.get_geoms" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>一个方法，返回包含图层中每个要素的几何信息的列表。如果可选参数 <code class="docutils literal notranslate"><span class="pre">geos</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code>，则几何信息将转换为 <a class="reference internal" href="geos.html#django.contrib.gis.geos.GEOSGeometry" title="django.contrib.gis.geos.GEOSGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">GEOSGeometry</span></code></a> 对象。否则，它们将以 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 对象的形式返回：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">pt</span><span class="o">.</span><span class="n">tuple</span> <span class="k">for</span> <span class="n">pt</span> <span class="ow">in</span> <span class="n">layer</span><span class="o">.</span><span class="n">get_geoms</span><span class="p">()]</span>
<span class="go">[(-104.609252, 38.255001), (-95.23506, 38.971823), (-95.363151, 29.763374)]</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Layer.test_capability">
<code class="sig-name descname"><span class="pre">test_capability</span></code>(<em><span class="n"><span class="pre">capability</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.Layer.test_capability" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回一个布尔值，指示此图层是否支持给定的功能（一个字符串）。有效的功能字符串示例包括：<code class="docutils literal notranslate"><span class="pre">'RandomRead'</span></code>、<code class="docutils literal notranslate"><span class="pre">'SequentialWrite'</span></code>、<code class="docutils literal notranslate"><span class="pre">'RandomWrite'</span></code>、<code class="docutils literal notranslate"><span class="pre">'FastSpatialFilter'</span></code>、<code class="docutils literal notranslate"><span class="pre">'FastFeatureCount'</span></code>、<code class="docutils literal notranslate"><span class="pre">'FastGetExtent'</span></code>、<code class="docutils literal notranslate"><span class="pre">'CreateField'</span></code>、<code class="docutils literal notranslate"><span class="pre">'Transactions'</span></code>、<code class="docutils literal notranslate"><span class="pre">'DeleteFeature'</span></code> 和 <code class="docutils literal notranslate"><span class="pre">'FastSetNextByIndex'</span></code>。</p>
</dd></dl>

</div>
<div class="section" id="s-feature">
<span id="feature"></span><h3><code class="docutils literal notranslate"><span class="pre">Feature</span></code><a class="headerlink" href="#feature" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Feature">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">Feature</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Feature" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">Feature</span></code> 包装了一个 OGR 要素。你不会直接创建一个 <code class="docutils literal notranslate"><span class="pre">Feature</span></code> 对象。相反，你可以从一个 <a class="reference internal" href="#django.contrib.gis.gdal.Layer" title="django.contrib.gis.gdal.Layer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Layer</span></code></a> 对象中检索它们。每个要素由一个几何信息和一组包含附加属性的字段组成。字段的几何信息可通过其 <code class="docutils literal notranslate"><span class="pre">geom</span></code> 属性访问，该属性返回一个 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 对象。<code class="docutils literal notranslate"><span class="pre">Feature</span></code> 表现得像一个标准的 Python 容器，用于存储它的字段，它将它们作为 <a class="reference internal" href="#django.contrib.gis.gdal.Field" title="django.contrib.gis.gdal.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">Field</span></code></a> 对象返回：你可以通过索引或名称直接访问字段，或者你可以在要素的字段上进行迭代，例如在一个 <code class="docutils literal notranslate"><span class="pre">for</span></code> 循环中。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Feature.geom">
<code class="sig-name descname"><span class="pre">geom</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Feature.geom" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此要素的几何信息，作为一个 <code class="docutils literal notranslate"><span class="pre">OGRGeometry</span></code> 对象：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="o">.</span><span class="n">geom</span><span class="o">.</span><span class="n">tuple</span>
<span class="go">(-104.609252, 38.255001)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Feature.get">
<code class="sig-name descname"><span class="pre">get</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Feature.get" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>一个方法，返回此要素指定字段（按名称）的值，<strong>而不是</strong> 一个 <code class="docutils literal notranslate"><span class="pre">Field</span></code> 包装对象：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Population&quot;</span><span class="p">)</span>
<span class="go">102121</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Feature.geom_type">
<code class="sig-name descname"><span class="pre">geom_type</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Feature.geom_type" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此要素的几何类型，作为一个 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeomType" title="django.contrib.gis.gdal.OGRGeomType"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeomType</span></code></a> 对象。在给定图层中，所有要素的几何类型都相同，与要素来自的 <a class="reference internal" href="#django.contrib.gis.gdal.Layer" title="django.contrib.gis.gdal.Layer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Layer</span></code></a> 对象的 <a class="reference internal" href="#django.contrib.gis.gdal.Layer.geom_type" title="django.contrib.gis.gdal.Layer.geom_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Layer.geom_type</span></code></a> 属性相等。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Feature.num_fields">
<code class="sig-name descname"><span class="pre">num_fields</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Feature.num_fields" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回与此要素关联的数据字段数量。在给定图层中，所有要素的字段数量都相同，等同于要素来自的 <a class="reference internal" href="#django.contrib.gis.gdal.Layer" title="django.contrib.gis.gdal.Layer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Layer</span></code></a> 对象的 <a class="reference internal" href="#django.contrib.gis.gdal.Layer.num_fields" title="django.contrib.gis.gdal.Layer.num_fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Layer.num_fields</span></code></a> 属性。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Feature.fields">
<code class="sig-name descname"><span class="pre">fields</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Feature.fields" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回与此要素关联的数据字段的名称列表。在给定图层中，所有要素的字段名称都相同，等同于要素来自的 <a class="reference internal" href="#django.contrib.gis.gdal.Layer" title="django.contrib.gis.gdal.Layer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Layer</span></code></a> 对象的 <a class="reference internal" href="#django.contrib.gis.gdal.Layer.fields" title="django.contrib.gis.gdal.Layer.fields"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Layer.fields</span></code></a> 属性。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Feature.fid">
<code class="sig-name descname"><span class="pre">fid</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Feature.fid" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回图层中的要素标识符：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="o">.</span><span class="n">fid</span>
<span class="go">0</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Feature.layer_name">
<code class="sig-name descname"><span class="pre">layer_name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Feature.layer_name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回要素来自的 <a class="reference internal" href="#django.contrib.gis.gdal.Layer" title="django.contrib.gis.gdal.Layer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Layer</span></code></a> 的名称。在给定图层中，所有要素的图层名称都相同：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="o">.</span><span class="n">layer_name</span>
<span class="go">&#39;cities&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Feature.index">
<code class="sig-name descname"><span class="pre">index</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Feature.index" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>一个方法，返回给定字段名称的索引。在给定图层中，所有要素的字段名称的索引都相同：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;Population&quot;</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="s-field">
<span id="field"></span><h3><code class="docutils literal notranslate"><span class="pre">Field</span></code><a class="headerlink" href="#field" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">Field</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Field" title="永久链接至目标">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field.name">
<code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Field.name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此字段的名称：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;Name&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field.type">
<code class="sig-name descname"><span class="pre">type</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Field.type" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此字段的 OGR 类型，以整数形式表示。<code class="docutils literal notranslate"><span class="pre">FIELD_CLASSES</span></code> 字典将这些值映射到 <code class="docutils literal notranslate"><span class="pre">Field</span></code> 的子类：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;Density&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">type</span>
<span class="go">2</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field.type_name">
<code class="sig-name descname"><span class="pre">type_name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Field.type_name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回表示此字段数据类型的字符串名称：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">type_name</span>
<span class="go">&#39;String&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field.value">
<code class="sig-name descname"><span class="pre">value</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Field.value" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此字段的值。<code class="docutils literal notranslate"><span class="pre">Field</span></code> 类本身将值作为字符串返回，但每个子类都以最合适的形式返回值：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;Population&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
<span class="go">102121</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field.width">
<code class="sig-name descname"><span class="pre">width</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Field.width" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此字段的宽度：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">width</span>
<span class="go">80</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field.precision">
<code class="sig-name descname"><span class="pre">precision</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Field.precision" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此字段的数值精度。对于非数值字段，这是没有意义的（并且设置为零）：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;Density&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">precision</span>
<span class="go">15</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field.as_double">
<code class="sig-name descname"><span class="pre">as_double</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.Field.as_double" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>将字段的值作为 double（浮点数）返回：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;Density&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">as_double</span><span class="p">()</span>
<span class="go">874.7</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field.as_int">
<code class="sig-name descname"><span class="pre">as_int</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.Field.as_int" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>将字段的值作为整数返回：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;Population&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">as_int</span><span class="p">()</span>
<span class="go">102121</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field.as_string">
<code class="sig-name descname"><span class="pre">as_string</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.Field.as_string" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>将字段的值作为字符串返回：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">as_string</span><span class="p">()</span>
<span class="go">&#39;Pueblo&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Field.as_datetime">
<code class="sig-name descname"><span class="pre">as_datetime</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.Field.as_datetime" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>将字段的值作为日期和时间组件的元组返回：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="p">[</span><span class="s2">&quot;Created&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">as_datetime</span><span class="p">()</span>
<span class="go">(c_long(1999), c_long(5), c_long(23), c_long(0), c_long(0), c_long(0), c_long(0))</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="s-driver">
<span id="driver"></span><h3><code class="docutils literal notranslate"><span class="pre">Driver</span></code><a class="headerlink" href="#driver" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Driver">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">Driver</span></code>(<em><span class="n"><span class="pre">dr_input</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.Driver" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">Driver</span></code> 类在内部用于包装一个 OGR <a class="reference internal" href="#django.contrib.gis.gdal.DataSource" title="django.contrib.gis.gdal.DataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSource</span></code></a> 驱动程序。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Driver.driver_count">
<code class="sig-name descname"><span class="pre">driver_count</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Driver.driver_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回当前已注册的 OGR 矢量驱动程序的数量。</p>
</dd></dl>

</div>
</div>
<div class="section" id="s-ogr-geometries">
<span id="ogr-geometries"></span><h2>OGR 几何对象<a class="headerlink" href="#ogr-geometries" title="永久链接至标题">¶</a></h2>
<div class="section" id="s-ogrgeometry">
<span id="ogrgeometry"></span><h3><code class="docutils literal notranslate"><span class="pre">OGRGeometry</span></code><a class="headerlink" href="#ogrgeometry" title="永久链接至标题">¶</a></h3>
<p><a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 对象与 <a class="reference internal" href="geos.html#django.contrib.gis.geos.GEOSGeometry" title="django.contrib.gis.geos.GEOSGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">GEOSGeometry</span></code></a> 对象具有类似的功能，它们都是对 OGR 内部几何表示的薄包装。因此，它们在使用 <a class="reference internal" href="#django.contrib.gis.gdal.DataSource" title="django.contrib.gis.gdal.DataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataSource</span></code></a> 时允许更高效地访问数据。与其 GEOS 对应物不同，<a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 支持空间参考系统和坐标转换：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.contrib.gis.gdal</span> <span class="kn">import</span> <span class="n">OGRGeometry</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">polygon</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;POLYGON((0 0, 5 0, 5 5, 0 5))&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">OGRGeometry</span></code>(<em><span class="n"><span class="pre">geom_input</span></span></em>, <em><span class="n"><span class="pre">srs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry" title="永久链接至目标">¶</a></dt>
<dd><p>这个对象是 <a href="#id9"><span class="problematic" id="id13">`OGR Geometry`__</span></a> 类的包装器。这些对象直接从给定的 <code class="docutils literal notranslate"><span class="pre">geom_input</span></code> 参数实例化，该参数可以是包含 WKT、HEX、GeoJSON、包含 WKB 数据的 <code class="docutils literal notranslate"><span class="pre">buffer</span></code>，或者是一个 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeomType" title="django.contrib.gis.gdal.OGRGeomType"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeomType</span></code></a> 对象。这些对象还可以从 <code class="xref py py-class docutils literal notranslate"><span class="pre">Layer`（它又是</span> <span class="pre">:class:`DataSource</span></code> 的一部分）读取矢量数据时，从 <a class="reference internal" href="#django.contrib.gis.gdal.Feature.geom" title="django.contrib.gis.gdal.Feature.geom"><code class="xref py py-class docutils literal notranslate"><span class="pre">Feature.geom</span></code></a> 属性返回。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.from_gml">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">from_gml</span></code>(<em><span class="n"><span class="pre">gml_string</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.from_gml" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>从给定的 GML 字符串构造一个 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.from_bbox">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">from_bbox</span></code>(<em><span class="n"><span class="pre">bbox</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.from_bbox" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>从给定的边界框（一个包含 4 个元素的元组）构造一个 <a class="reference internal" href="#django.contrib.gis.gdal.Polygon" title="django.contrib.gis.gdal.Polygon"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polygon</span></code></a>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.__len__">
<code class="sig-name descname"><span class="pre">__len__</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.__len__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回一个 <a class="reference internal" href="#django.contrib.gis.gdal.LineString" title="django.contrib.gis.gdal.LineString"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineString</span></code></a> 中的点数，一个 <a class="reference internal" href="#django.contrib.gis.gdal.Polygon" title="django.contrib.gis.gdal.Polygon"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polygon</span></code></a> 中的环数，或一个 <a class="reference internal" href="#django.contrib.gis.gdal.GeometryCollection" title="django.contrib.gis.gdal.GeometryCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeometryCollection</span></code></a> 中的几何对象数。不适用于其他几何类型。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.__iter__">
<code class="sig-name descname"><span class="pre">__iter__</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.__iter__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>遍历一个 <a class="reference internal" href="#django.contrib.gis.gdal.LineString" title="django.contrib.gis.gdal.LineString"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineString</span></code></a> 中的点，一个 <a class="reference internal" href="#django.contrib.gis.gdal.Polygon" title="django.contrib.gis.gdal.Polygon"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polygon</span></code></a> 中的环，或一个 <a class="reference internal" href="#django.contrib.gis.gdal.GeometryCollection" title="django.contrib.gis.gdal.GeometryCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeometryCollection</span></code></a> 中的几何对象。不适用于其他几何类型。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.__getitem__">
<code class="sig-name descname"><span class="pre">__getitem__</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.__getitem__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回一个 <a class="reference internal" href="#django.contrib.gis.gdal.LineString" title="django.contrib.gis.gdal.LineString"><code class="xref py py-class docutils literal notranslate"><span class="pre">LineString</span></code></a> 中指定索引的点，一个 <a class="reference internal" href="#django.contrib.gis.gdal.Polygon" title="django.contrib.gis.gdal.Polygon"><code class="xref py py-class docutils literal notranslate"><span class="pre">Polygon</span></code></a> 中指定索引的内环，或一个 <a class="reference internal" href="#django.contrib.gis.gdal.GeometryCollection" title="django.contrib.gis.gdal.GeometryCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeometryCollection</span></code></a> 中指定索引的几何对象。不适用于其他几何类型。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.dimension">
<code class="sig-name descname"><span class="pre">dimension</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.dimension" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回几何图形的坐标维度数，例如点的维度为 0，线的维度为 1，依此类推：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">polygon</span><span class="o">.</span><span class="n">dimension</span>
<span class="go">2</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.coord_dim">
<code class="sig-name descname"><span class="pre">coord_dim</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.coord_dim" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回或设置此几何图形的坐标维度。例如，对于二维几何图形，值将为 2。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.geom_count">
<code class="sig-name descname"><span class="pre">geom_count</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.geom_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形中的元素数量：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">polygon</span><span class="o">.</span><span class="n">geom_count</span>
<span class="go">1</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.point_count">
<code class="sig-name descname"><span class="pre">point_count</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.point_count" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回用于描述此几何图形的点的数量：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">polygon</span><span class="o">.</span><span class="n">point_count</span>
<span class="go">4</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.num_points">
<code class="sig-name descname"><span class="pre">num_points</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.num_points" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>是 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry.point_count" title="django.contrib.gis.gdal.OGRGeometry.point_count"><code class="xref py py-attr docutils literal notranslate"><span class="pre">point_count</span></code></a> 的别名。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.num_coords">
<code class="sig-name descname"><span class="pre">num_coords</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.num_coords" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>是 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry.point_count" title="django.contrib.gis.gdal.OGRGeometry.point_count"><code class="xref py py-attr docutils literal notranslate"><span class="pre">point_count</span></code></a> 的别名。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.geom_type">
<code class="sig-name descname"><span class="pre">geom_type</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.geom_type" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形的类型，作为一个 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeomType" title="django.contrib.gis.gdal.OGRGeomType"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeomType</span></code></a> 对象。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.geom_name">
<code class="sig-name descname"><span class="pre">geom_name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.geom_name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形类型的名称：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">polygon</span><span class="o">.</span><span class="n">geom_name</span>
<span class="go">&#39;POLYGON&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.area">
<code class="sig-name descname"><span class="pre">area</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.area" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形的面积，对于不包含面积的几何图形，返回 0：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">polygon</span><span class="o">.</span><span class="n">area</span>
<span class="go">25.0</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.envelope">
<code class="sig-name descname"><span class="pre">envelope</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.envelope" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形的包络，作为一个 <a class="reference internal" href="#django.contrib.gis.gdal.Envelope" title="django.contrib.gis.gdal.Envelope"><code class="xref py py-class docutils literal notranslate"><span class="pre">Envelope</span></code></a> 对象。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.extent">
<code class="sig-name descname"><span class="pre">extent</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.extent" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形的包络作为一个 4-元组，而不是一个 <a class="reference internal" href="#django.contrib.gis.gdal.Envelope" title="django.contrib.gis.gdal.Envelope"><code class="xref py py-class docutils literal notranslate"><span class="pre">Envelope</span></code></a> 对象：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">point</span><span class="o">.</span><span class="n">extent</span>
<span class="go">(0.0, 0.0, 5.0, 5.0)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.srs">
<code class="sig-name descname"><span class="pre">srs</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.srs" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>此属性控制此几何图形的空间参考，如果没有分配空间参考系统，则为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。如果分配了空间参考系统，访问此属性将返回一个 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 对象。它可以使用另一个 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 对象或任何 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 接受的输入进行设置。示例：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">city</span><span class="o">.</span><span class="n">geom</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;GCS_WGS_1984&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.srid">
<code class="sig-name descname"><span class="pre">srid</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.srid" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回或设置与此几何图形的 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 相对应的空间参考标识符。如果没有与此几何图形关联的空间参考信息，或者无法确定 SRID，则返回 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.geos">
<code class="sig-name descname"><span class="pre">geos</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.geos" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回与此几何图形对应的 <a class="reference internal" href="geos.html#django.contrib.gis.geos.GEOSGeometry" title="django.contrib.gis.geos.GEOSGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">GEOSGeometry</span></code></a> 对象。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.gml">
<code class="sig-name descname"><span class="pre">gml</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.gml" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形的 GML 格式的字符串表示：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;POINT(1 2)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">gml</span>
<span class="go">&#39;&lt;gml:Point&gt;&lt;gml:coordinates&gt;1,2&lt;/gml:coordinates&gt;&lt;/gml:Point&gt;&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.hex">
<code class="sig-name descname"><span class="pre">hex</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.hex" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形的 HEX WKB 格式的字符串表示：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;POINT(1 2)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">hex</span>
<span class="go">&#39;0101000000000000000000F03F0000000000000040&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.json">
<code class="sig-name descname"><span class="pre">json</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.json" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形的 JSON 格式的字符串表示：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;POINT(1 2)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">json</span>
<span class="go">&#39;{ &quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [ 1.000000, 2.000000 ] }&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.kml">
<code class="sig-name descname"><span class="pre">kml</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.kml" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形的 KML 格式的字符串表示。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.wkb_size">
<code class="sig-name descname"><span class="pre">wkb_size</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.wkb_size" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回用于容纳此几何图形的 WKB 表示的 WKB 缓冲区的大小：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;POINT(1 2)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">wkb_size</span>
<span class="go">21</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.wkb">
<code class="sig-name descname"><span class="pre">wkb</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.wkb" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回一个包含此几何图形的 WKB 表示的 <code class="docutils literal notranslate"><span class="pre">buffer</span></code>。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.wkt">
<code class="sig-name descname"><span class="pre">wkt</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.wkt" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形的 WKT 格式的字符串表示：</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.ewkt">
<code class="sig-name descname"><span class="pre">ewkt</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.ewkt" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此几何图形的 EWKT 表示。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.clone">
<code class="sig-name descname"><span class="pre">clone</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.clone" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回一个新的 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 克隆对象，与此几何图形对象相同。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.close_rings">
<code class="sig-name descname"><span class="pre">close_rings</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.close_rings" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此几何图形中有任何未封闭的环，此过程将通过将起始点添加到末尾来封闭它们：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">triangle</span> <span class="o">=</span> <span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;LINEARRING (0 0,0 1,1 0)&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">triangle</span><span class="o">.</span><span class="n">close_rings</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">triangle</span><span class="o">.</span><span class="n">wkt</span>
<span class="go">&#39;LINEARRING (0 0,0 1,1 0,0 0)&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.transform">
<code class="sig-name descname"><span class="pre">transform</span></code>(<em><span class="n"><span class="pre">coord_trans</span></span></em>, <em><span class="n"><span class="pre">clone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.transform" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>将此几何图形转换到不同的空间参考系统。可以采用 <a class="reference internal" href="#django.contrib.gis.gdal.CoordTransform" title="django.contrib.gis.gdal.CoordTransform"><code class="xref py py-class docutils literal notranslate"><span class="pre">CoordTransform</span></code></a> 对象、<a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 对象或 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 接受的任何其他输入（包括空间参考 WKT 和 PROJ 字符串，或整数 SRID）。</p>
<p>默认情况下，不返回任何内容，并且在原地转换几何图形。然而，如果将 <code class="docutils literal notranslate"><span class="pre">clone</span></code> 关键字设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code>，则返回一个转换后的克隆几何图形。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.intersects">
<code class="sig-name descname"><span class="pre">intersects</span></code>(<em><span class="n"><span class="pre">other</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.intersects" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此几何图形与另一个几何图形相交，则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>，否则返回 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.equals">
<code class="sig-name descname"><span class="pre">equals</span></code>(<em><span class="n"><span class="pre">other</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.equals" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此几何图形等同于另一个几何图形，则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>，否则返回 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.disjoint">
<code class="sig-name descname"><span class="pre">disjoint</span></code>(<em><span class="n"><span class="pre">other</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.disjoint" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此几何图形与另一个几何图形在空间上不相交（即不相交），则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>，否则返回 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.touches">
<code class="sig-name descname"><span class="pre">touches</span></code>(<em><span class="n"><span class="pre">other</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.touches" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此几何图形与另一个几何图形相邻接，则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>，否则返回 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.crosses">
<code class="sig-name descname"><span class="pre">crosses</span></code>(<em><span class="n"><span class="pre">other</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.crosses" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此几何图形与另一个几何图形交叉，则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>，否则返回 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.within">
<code class="sig-name descname"><span class="pre">within</span></code>(<em><span class="n"><span class="pre">other</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.within" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此几何图形包含在另一个几何图形内部，则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>，否则返回 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.contains">
<code class="sig-name descname"><span class="pre">contains</span></code>(<em><span class="n"><span class="pre">other</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.contains" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此几何图形包含另一个几何图形，则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>，否则返回 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.overlaps">
<code class="sig-name descname"><span class="pre">overlaps</span></code>(<em><span class="n"><span class="pre">other</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.overlaps" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此几何图形与另一个几何图形重叠，则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>，否则返回 <code class="docutils literal notranslate"><span class="pre">False</span></code>。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.boundary">
<code class="sig-name descname"><span class="pre">boundary</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.boundary" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>这个几何图形的边界，作为一个新的 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 对象。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.convex_hull">
<code class="sig-name descname"><span class="pre">convex_hull</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.convex_hull" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>包含此几何图形的最小凸多边形，作为一个新的 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 对象。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.difference">
<code class="sig-name descname"><span class="pre">difference</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.difference" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回由此几何图形与另一个几何图形的差组成的区域，作为一个新的 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 对象。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.intersection">
<code class="sig-name descname"><span class="pre">intersection</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.intersection" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回由此几何图形与另一个几何图形的交集组成的区域，作为一个新的 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 对象。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.sym_difference">
<code class="sig-name descname"><span class="pre">sym_difference</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.sym_difference" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回由此几何图形与另一个几何图形的对称差组成的区域，作为一个新的 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 对象。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.union">
<code class="sig-name descname"><span class="pre">union</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.union" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回由此几何图形与另一个几何图形的并集组成的区域，作为一个新的 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry" title="django.contrib.gis.gdal.OGRGeometry"><code class="xref py py-class docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a> 对象。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.tuple">
<code class="sig-name descname"><span class="pre">tuple</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.tuple" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回点几何的坐标作为一个元组，线几何的坐标作为元组的元组，依此类推：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;POINT (1 2)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tuple</span>
<span class="go">(1.0, 2.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;LINESTRING (1 2,3 4)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">tuple</span>
<span class="go">((1.0, 2.0), (3.0, 4.0))</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeometry.coords">
<code class="sig-name descname"><span class="pre">coords</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeometry.coords" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>一个用于 <a class="reference internal" href="#django.contrib.gis.gdal.OGRGeometry.tuple" title="django.contrib.gis.gdal.OGRGeometry.tuple"><code class="xref py py-attr docutils literal notranslate"><span class="pre">tuple</span></code></a> 的别名。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Point">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">Point</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Point" title="永久链接至目标">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Point.x">
<code class="sig-name descname"><span class="pre">x</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Point.x" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此点的 X 坐标：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;POINT (1 2)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">x</span>
<span class="go">1.0</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Point.y">
<code class="sig-name descname"><span class="pre">y</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Point.y" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此点的 Y 坐标：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;POINT (1 2)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">y</span>
<span class="go">2.0</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Point.z">
<code class="sig-name descname"><span class="pre">z</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Point.z" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此点的 Z 坐标，如果此点没有 Z 坐标，则返回 <code class="docutils literal notranslate"><span class="pre">None</span></code>：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;POINT (1 2 3)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">z</span>
<span class="go">3.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.LineString">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">LineString</span></code><a class="headerlink" href="#django.contrib.gis.gdal.LineString" title="永久链接至目标">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.LineString.x">
<code class="sig-name descname"><span class="pre">x</span></code><a class="headerlink" href="#django.contrib.gis.gdal.LineString.x" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此线中的 X 坐标列表：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;LINESTRING (1 2,3 4)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">x</span>
<span class="go">[1.0, 3.0]</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.LineString.y">
<code class="sig-name descname"><span class="pre">y</span></code><a class="headerlink" href="#django.contrib.gis.gdal.LineString.y" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此线中的 Y 坐标列表：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;LINESTRING (1 2,3 4)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">y</span>
<span class="go">[2.0, 4.0]</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.LineString.z">
<code class="sig-name descname"><span class="pre">z</span></code><a class="headerlink" href="#django.contrib.gis.gdal.LineString.z" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此线中的 Z 坐标列表，如果此线没有 Z 坐标，则返回 <code class="docutils literal notranslate"><span class="pre">None</span></code>：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">OGRGeometry</span><span class="p">(</span><span class="s2">&quot;LINESTRING (1 2 3,4 5 6)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">z</span>
<span class="go">[3.0, 6.0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Polygon">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">Polygon</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Polygon" title="永久链接至目标">¶</a></dt>
<dd><dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Polygon.shell">
<code class="sig-name descname"><span class="pre">shell</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Polygon.shell" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此多边形的外壳或外部环，作为一个 <code class="docutils literal notranslate"><span class="pre">LinearRing</span></code> 几何体。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Polygon.exterior_ring">
<code class="sig-name descname"><span class="pre">exterior_ring</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Polygon.exterior_ring" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><a class="reference internal" href="#django.contrib.gis.gdal.Polygon.shell" title="django.contrib.gis.gdal.Polygon.shell"><code class="xref py py-attr docutils literal notranslate"><span class="pre">shell</span></code></a> 的别名。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Polygon.centroid">
<code class="sig-name descname"><span class="pre">centroid</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Polygon.centroid" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回一个代表此多边形的质心的 <a class="reference internal" href="#django.contrib.gis.gdal.Point" title="django.contrib.gis.gdal.Point"><code class="xref py py-class docutils literal notranslate"><span class="pre">Point</span></code></a>。</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GeometryCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">GeometryCollection</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GeometryCollection" title="永久链接至目标">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GeometryCollection.add">
<code class="sig-name descname"><span class="pre">add</span></code>(<em><span class="n"><span class="pre">geom</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.GeometryCollection.add" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>将一个几何体添加到此几何体集合中。不适用于其他几何体类型。</p>
</dd></dl>

</div>
<div class="section" id="s-ogrgeomtype">
<span id="ogrgeomtype"></span><h3><code class="docutils literal notranslate"><span class="pre">OGRGeomType</span></code><a class="headerlink" href="#ogrgeomtype" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeomType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">OGRGeomType</span></code>(<em><span class="n"><span class="pre">type_input</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.OGRGeomType" title="永久链接至目标">¶</a></dt>
<dd><p>这个类允许以多种方式表示 OGR 几何类型：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.contrib.gis.gdal</span> <span class="kn">import</span> <span class="n">OGRGeomType</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt1</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># Using an integer for the type</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt2</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s2">&quot;Polygon&quot;</span><span class="p">)</span>  <span class="c1"># Using a string</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gt3</span> <span class="o">=</span> <span class="n">OGRGeomType</span><span class="p">(</span><span class="s2">&quot;POLYGON&quot;</span><span class="p">)</span>  <span class="c1"># It&#39;s case-insensitive</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">gt1</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="n">gt1</span> <span class="o">==</span> <span class="s2">&quot;Polygon&quot;</span><span class="p">)</span>  <span class="c1"># Equivalence works w/non-OGRGeomType objects</span>
<span class="go">True True</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeomType.name">
<code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeomType.name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回 OGR 几何类型的简略字符串形式：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gt1</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;Polygon&#39;</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeomType.num">
<code class="sig-name descname"><span class="pre">num</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeomType.num" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回对应于 OGR 几何类型的数字：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gt1</span><span class="o">.</span><span class="n">num</span>
<span class="go">3</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.OGRGeomType.django">
<code class="sig-name descname"><span class="pre">django</span></code><a class="headerlink" href="#django.contrib.gis.gdal.OGRGeomType.django" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回用于存储此 OGR 类型的 Django 字段类型（GeometryField 的子类），如果没有合适的 Django 类型，则返回 <code class="docutils literal notranslate"><span class="pre">None</span></code>：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gt1</span><span class="o">.</span><span class="n">django</span>
<span class="go">&#39;PolygonField&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="s-envelope">
<span id="envelope"></span><h3><code class="docutils literal notranslate"><span class="pre">Envelope</span></code><a class="headerlink" href="#envelope" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Envelope">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">Envelope</span></code>(<em><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.Envelope" title="永久链接至目标">¶</a></dt>
<dd><p>表示包含矩形边界框的最小和最大 X、Y 坐标的 OGR Envelope 结构。变量的命名与 OGR Envelope C 结构兼容。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Envelope.min_x">
<code class="sig-name descname"><span class="pre">min_x</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Envelope.min_x" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>最小 X 坐标的值。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Envelope.min_y">
<code class="sig-name descname"><span class="pre">min_y</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Envelope.min_y" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>最大 X 坐标的值。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Envelope.max_x">
<code class="sig-name descname"><span class="pre">max_x</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Envelope.max_x" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>最小 Y 坐标的值。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Envelope.max_y">
<code class="sig-name descname"><span class="pre">max_y</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Envelope.max_y" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>最大 Y 坐标的值。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Envelope.ur">
<code class="sig-name descname"><span class="pre">ur</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Envelope.ur" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>右上角坐标，表示为一个元组。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Envelope.ll">
<code class="sig-name descname"><span class="pre">ll</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Envelope.ll" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>左下角坐标，表示为一个元组。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Envelope.tuple">
<code class="sig-name descname"><span class="pre">tuple</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Envelope.tuple" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>表示包围盒的元组。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Envelope.wkt">
<code class="sig-name descname"><span class="pre">wkt</span></code><a class="headerlink" href="#django.contrib.gis.gdal.Envelope.wkt" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>以 WKT 格式表示此包围盒的字符串。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.Envelope.expand_to_include">
<code class="sig-name descname"><span class="pre">expand_to_include</span></code>(<em><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.Envelope.expand_to_include" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="s-coordinate-system-objects">
<span id="coordinate-system-objects"></span><h2>坐标系统对象<a class="headerlink" href="#coordinate-system-objects" title="永久链接至标题">¶</a></h2>
<div class="section" id="s-spatialreference">
<span id="spatialreference"></span><h3><code class="docutils literal notranslate"><span class="pre">SpatialReference</span></code><a class="headerlink" href="#spatialreference" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">SpatialReference</span></code>(<em><span class="n"><span class="pre">srs_input</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference" title="永久链接至目标">¶</a></dt>
<dd><p>空间参考对象在给定的 <code class="docutils literal notranslate"><span class="pre">srs_input</span></code> 上初始化，可以是以下之一：</p>
<ul class="simple">
<li>OGC Well Known Text (WKT)（一个字符串）</li>
<li>EPSG 代码（整数或字符串）</li>
<li>PROJ 字符串</li>
<li>一个用于常见标准的简写字符串（<code class="docutils literal notranslate"><span class="pre">'WGS84'</span></code>、<code class="docutils literal notranslate"><span class="pre">'WGS72'</span></code>、<code class="docutils literal notranslate"><span class="pre">'NAD27'</span></code>、<code class="docutils literal notranslate"><span class="pre">'NAD83'</span></code>）</li>
</ul>
<p>例如：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wgs84</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">(</span><span class="s2">&quot;WGS84&quot;</span><span class="p">)</span>  <span class="c1"># shorthand string</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wgs84</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">(</span><span class="mi">4326</span><span class="p">)</span>  <span class="c1"># EPSG code</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wgs84</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">(</span><span class="s2">&quot;EPSG:4326&quot;</span><span class="p">)</span>  <span class="c1"># EPSG string</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">proj</span> <span class="o">=</span> <span class="s2">&quot;+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wgs84</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">(</span><span class="n">proj</span><span class="p">)</span>  <span class="c1"># PROJ string</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wgs84</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">(</span>
<span class="gp">... </span><span class="w">    </span><span class="sd">&quot;&quot;&quot;GEOGCS[&quot;WGS 84&quot;,</span>
<span class="gp">... </span><span class="sd">DATUM[&quot;WGS_1984&quot;,</span>
<span class="gp">... </span><span class="sd">     SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,</span>
<span class="gp">... </span><span class="sd">         AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],</span>
<span class="gp">... </span><span class="sd">     AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],</span>
<span class="gp">... </span><span class="sd">PRIMEM[&quot;Greenwich&quot;,0,</span>
<span class="gp">... </span><span class="sd">     AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],</span>
<span class="gp">... </span><span class="sd">UNIT[&quot;degree&quot;,0.01745329251994328,</span>
<span class="gp">... </span><span class="sd">     AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],</span>
<span class="gp">... </span><span class="sd">AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="p">)</span>  <span class="c1"># OGC WKT</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.__getitem__">
<code class="sig-name descname"><span class="pre">__getitem__</span></code>(<em><span class="n"><span class="pre">target</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.__getitem__" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回给定字符串属性节点的值，如果节点不存在则返回 <code class="docutils literal notranslate"><span class="pre">None</span></code>。还可以将元组作为参数传递，(target, child)，其中 child 是 WKT 中属性的索引。例如：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wkt</span> <span class="o">=</span> <span class="s1">&#39;GEOGCS[&quot;WGS 84&quot;, DATUM[&quot;WGS_1984, ... AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">(</span><span class="n">wkt</span><span class="p">)</span>  <span class="c1"># could also use &#39;WGS84&#39;, or 4326</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">srs</span><span class="p">[</span><span class="s2">&quot;GEOGCS&quot;</span><span class="p">])</span>
<span class="go">WGS 84</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">srs</span><span class="p">[</span><span class="s2">&quot;DATUM&quot;</span><span class="p">])</span>
<span class="go">WGS_1984</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">srs</span><span class="p">[</span><span class="s2">&quot;AUTHORITY&quot;</span><span class="p">])</span>
<span class="go">EPSG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">srs</span><span class="p">[</span><span class="s2">&quot;AUTHORITY&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1"># The authority value</span>
<span class="go">4326</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">srs</span><span class="p">[</span><span class="s2">&quot;TOWGS84&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>  <span class="c1"># the fourth value in this wkt</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">srs</span><span class="p">[</span><span class="s2">&quot;UNIT|AUTHORITY&quot;</span><span class="p">])</span>  <span class="c1"># For the units authority, have to use the pipe symbol.</span>
<span class="go">EPSG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">srs</span><span class="p">[</span><span class="s2">&quot;UNIT|AUTHORITY&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>  <span class="c1"># The authority value for the units</span>
<span class="go">9122</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.attr_value">
<code class="sig-name descname"><span class="pre">attr_value</span></code>(<em><span class="n"><span class="pre">target</span></span></em>, <em><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.attr_value" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>给定目标节点（例如 <code class="docutils literal notranslate"><span class="pre">'PROJCS'</span></code>）的属性值。索引关键字指定要返回的子节点的索引。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.auth_name">
<code class="sig-name descname"><span class="pre">auth_name</span></code>(<em><span class="n"><span class="pre">target</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.auth_name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回给定字符串目标节点的权限名称。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.auth_code">
<code class="sig-name descname"><span class="pre">auth_code</span></code>(<em><span class="n"><span class="pre">target</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.auth_code" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回给定字符串目标节点的权限代码。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.clone">
<code class="sig-name descname"><span class="pre">clone</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.clone" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此空间参考对象的克隆。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.identify_epsg">
<code class="sig-name descname"><span class="pre">identify_epsg</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.identify_epsg" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>此方法检查此 <code class="docutils literal notranslate"><span class="pre">SpatialReference</span></code> 的 WKT，并在适用的情况下添加 EPSG 权威节点。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.from_esri">
<code class="sig-name descname"><span class="pre">from_esri</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.from_esri" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>将此空间参考从 ESRI 格式转换为 EPSG 格式。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.to_esri">
<code class="sig-name descname"><span class="pre">to_esri</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.to_esri" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>将此空间参考转换为 ESRI 格式。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.validate">
<code class="sig-name descname"><span class="pre">validate</span></code>()<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.validate" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>检查给定的空间参考是否有效，如果无效，将引发异常。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.import_epsg">
<code class="sig-name descname"><span class="pre">import_epsg</span></code>(<em><span class="n"><span class="pre">epsg</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.import_epsg" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>从 EPSG 代码导入空间参考。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.import_proj">
<code class="sig-name descname"><span class="pre">import_proj</span></code>(<em><span class="n"><span class="pre">proj</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.import_proj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>从 PROJ 字符串导入空间参考。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.import_user_input">
<code class="sig-name descname"><span class="pre">import_user_input</span></code>(<em><span class="n"><span class="pre">user_input</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.import_user_input" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.import_wkt">
<code class="sig-name descname"><span class="pre">import_wkt</span></code>(<em><span class="n"><span class="pre">wkt</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.import_wkt" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>从 WKT 导入空间参考。</p>
<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.import_xml">
<code class="sig-name descname"><span class="pre">import_xml</span></code>(<em><span class="n"><span class="pre">xml</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.import_xml" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>从 XML 导入空间参考。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.name">
<code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此空间参考的名称。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.srid">
<code class="sig-name descname"><span class="pre">srid</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.srid" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回顶级权限的 SRID，如果未定义则返回 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.linear_name">
<code class="sig-name descname"><span class="pre">linear_name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.linear_name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回线性单位的名称。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.linear_units">
<code class="sig-name descname"><span class="pre">linear_units</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.linear_units" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回线性单位的值。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.angular_name">
<code class="sig-name descname"><span class="pre">angular_name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.angular_name" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回角度单位的名称。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.angular_units">
<code class="sig-name descname"><span class="pre">angular_units</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.angular_units" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回角度单位的值。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.units">
<code class="sig-name descname"><span class="pre">units</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.units" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回一个包含单位值和单位名称的 2 元组，并会自动确定是返回线性单位还是角度单位。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.ellipsoid">
<code class="sig-name descname"><span class="pre">ellipsoid</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.ellipsoid" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此空间参考的椭圆参数的元组：（半长轴、半短轴和倒扁率）。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.semi_major">
<code class="sig-name descname"><span class="pre">semi_major</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.semi_major" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此空间参考的椭圆体的半长轴。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.semi_minor">
<code class="sig-name descname"><span class="pre">semi_minor</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.semi_minor" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此空间参考的椭圆体的半短轴。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.inverse_flattening">
<code class="sig-name descname"><span class="pre">inverse_flattening</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.inverse_flattening" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此空间参考的椭圆体的倒扁率。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.geographic">
<code class="sig-name descname"><span class="pre">geographic</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.geographic" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此空间参考是地理空间参考（根节点是 <code class="docutils literal notranslate"><span class="pre">GEOGCS</span></code>），则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.local">
<code class="sig-name descname"><span class="pre">local</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.local" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此空间参考是本地空间参考（根节点是 <code class="docutils literal notranslate"><span class="pre">LOCAL_CS</span></code>），则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.projected">
<code class="sig-name descname"><span class="pre">projected</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.projected" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>如果此空间参考是投影坐标系统（根节点是 <code class="docutils literal notranslate"><span class="pre">PROJCS</span></code>），则返回 <code class="docutils literal notranslate"><span class="pre">True</span></code>。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.wkt">
<code class="sig-name descname"><span class="pre">wkt</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.wkt" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此空间参考的 WKT 表示。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.pretty_wkt">
<code class="sig-name descname"><span class="pre">pretty_wkt</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.pretty_wkt" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回 WKT 的 'pretty' 表示。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.proj">
<code class="sig-name descname"><span class="pre">proj</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.proj" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此空间参考的 PROJ 表示。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.proj4">
<code class="sig-name descname"><span class="pre">proj4</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.proj4" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p><a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference.proj" title="django.contrib.gis.gdal.SpatialReference.proj"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SpatialReference.proj</span></code></a> 的别名。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SpatialReference.xml">
<code class="sig-name descname"><span class="pre">xml</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SpatialReference.xml" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>返回此空间参考的 XML 表示。</p>
</dd></dl>

</div>
<div class="section" id="s-coordtransform">
<span id="coordtransform"></span><h3><code class="docutils literal notranslate"><span class="pre">CoordTransform</span></code><a class="headerlink" href="#coordtransform" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.CoordTransform">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">CoordTransform</span></code>(<em><span class="n"><span class="pre">source</span></span></em>, <em><span class="n"><span class="pre">target</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.CoordTransform" title="永久链接至目标">¶</a></dt>
<dd></dd></dl>

<p>表示坐标系统转换。它使用两个 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 初始化，分别表示源坐标系统和目标坐标系统。当在不同的几何体上重复执行相同的坐标转换时，应使用这些对象：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ct</span> <span class="o">=</span> <span class="n">CoordTransform</span><span class="p">(</span><span class="n">SpatialReference</span><span class="p">(</span><span class="s2">&quot;WGS84&quot;</span><span class="p">),</span> <span class="n">SpatialReference</span><span class="p">(</span><span class="s2">&quot;NAD83&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">feat</span> <span class="ow">in</span> <span class="n">layer</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">geom</span> <span class="o">=</span> <span class="n">feat</span><span class="o">.</span><span class="n">geom</span>  <span class="c1"># getting clone of feature geometry</span>
<span class="gp">... </span>    <span class="n">geom</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">ct</span><span class="p">)</span>  <span class="c1"># transforming</span>
<span class="gp">...</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="s-raster-data-objects">
<span id="s-raster-data-source-objects"></span><span id="raster-data-objects"></span><span id="raster-data-source-objects"></span><h2>栅格数据对象<a class="headerlink" href="#raster-data-objects" title="永久链接至标题">¶</a></h2>
<div class="section" id="s-gdalraster">
<span id="gdalraster"></span><h3><code class="docutils literal notranslate"><span class="pre">GDALRaster</span></code><a class="headerlink" href="#gdalraster" title="永久链接至标题">¶</a></h3>
<p><a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster" title="django.contrib.gis.gdal.GDALRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALRaster</span></code></a> 是对 GDAL 栅格源对象的包装，它支持使用一致的接口从各种 GDAL 支持的地理空间文件格式和数据源中读取数据。每个数据源由一个 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster" title="django.contrib.gis.gdal.GDALRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALRaster</span></code></a> 对象表示，其中包含一个或多个名为波段的数据层。每个波段，由一个 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand" title="django.contrib.gis.gdal.GDALBand"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALBand</span></code></a> 对象表示，包含地理参考的图像数据。例如，一个 RGB 图像由三个波段表示：一个用于红色，一个用于绿色，一个用于蓝色。</p>
<div class="admonition note">
<p class="first admonition-title">备注</p>
<p class="last">对于栅格数据，栅格实例和其数据源之间没有区别。与几何体对象不同，<a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster" title="django.contrib.gis.gdal.GDALRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALRaster</span></code></a> 对象始终是数据源。可以使用相应的驱动程序在内存中实例化临时栅格，但它们与基于文件的栅格源具有相同的类。</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">GDALRaster</span></code>(<em><span class="n"><span class="pre">ds_input</span></span></em>, <em><span class="n"><span class="pre">write</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">GDALRaster</span></code> 的构造函数接受两个参数。第一个参数定义了栅格源，第二个参数定义了是否应以写入模式打开栅格。对于新创建的栅格，第二个参数将被忽略，并且新栅格始终以写入模式创建。</p>
<p>第一个参数可以有三种形式：表示文件路径（文件系统或 GDAL 虚拟文件系统）的字符串或 <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(在 Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a>，包含定义新栅格的值的字典，或者表示栅格文件的字节对象。</p>
<p>如果输入是一个文件路径，从那里打开栅格。如果输入是字典中的原始数据，需要参数 <code class="docutils literal notranslate"><span class="pre">width</span></code>、<code class="docutils literal notranslate"><span class="pre">height</span></code> 和 <code class="docutils literal notranslate"><span class="pre">srid</span></code>。如果输入是一个字节对象，它将使用 GDAL 虚拟文件系统打开。</p>
<p>有关如何使用字典输入创建栅格图像的详细说明，请参阅 <a class="reference internal" href="#gdal-raster-ds-input"><span class="std std-ref">从数据创建栅格图像</span></a>。有关如何在虚拟文件系统中创建栅格图像的详细说明，请参阅 <a class="reference internal" href="#gdal-raster-vsimem"><span class="std std-ref">使用 GDAL 的虚拟文件系统</span></a>。</p>
<p>以下示例展示了如何从不同的输入源创建栅格图像（使用 GeoDjango 测试中的示例数据；另请参阅 <a class="reference internal" href="#gdal-sample-data"><span class="std std-ref">样本数据</span></a> 部分）。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.contrib.gis.gdal</span> <span class="kn">import</span> <span class="n">GDALRaster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span><span class="s2">&quot;/path/to/your/raster.tif&quot;</span><span class="p">,</span> <span class="n">write</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;/path/to/your/raster.tif&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">rst</span><span class="o">.</span><span class="n">height</span>  <span class="c1"># This file has 163 x 174 pixels</span>
<span class="go">(163, 174)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>  <span class="c1"># Creates an in-memory raster</span>
<span class="gp">... </span>        <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;datatype&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="gp">... </span>                <span class="s2">&quot;offset&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>                <span class="s2">&quot;size&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
<span class="gp">... </span>                <span class="s2">&quot;shape&quot;</span><span class="p">:</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>                <span class="s2">&quot;nodata_value&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>            <span class="p">}</span>
<span class="gp">... </span>        <span class="p">],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">srid</span>
<span class="go">4326</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">rst</span><span class="o">.</span><span class="n">height</span>
<span class="go">(4, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">bands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
<span class="go">array([[5, 5, 5, 5],</span>
<span class="go">       [5, 2, 3, 5],</span>
<span class="go">       [5, 2, 3, 5],</span>
<span class="go">       [5, 5, 5, 5]], dtype=uint8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;/path/to/your/raster.tif&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst_bytes</span> <span class="o">=</span> <span class="n">rst_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span><span class="n">rst_bytes</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">is_vsi_based</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">name</span>  <span class="c1"># Stored in a random path in the vsimem filesystem.</span>
<span class="go">&#39;/vsimem/da300bdb-129d-49a8-b336-e410a9428dad&#39;</span>
</pre></div>
</div>
<div class="versionchanged">
<span class="title">Changed in Django 4.2:</span> <p>增加了对 <a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(在 Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a> <code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 的支持。</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.name">
<code class="sig-name descname"><span class="pre">name</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.name" title="永久链接至目标">¶</a></dt>
<dd><p>源的名称等同于输入文件路径或实例化时提供的名称。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;myraster&quot;</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;myraster&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.driver">
<code class="sig-name descname"><span class="pre">driver</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.driver" title="永久链接至目标">¶</a></dt>
<dd><p>用于处理输入文件的 GDAL 驱动程序的名称。对于从文件创建的 <code class="docutils literal notranslate"><span class="pre">GDALRaster</span></code>，驱动程序类型会自动检测。默认情况下，从头开始创建的栅格图像是内存中的栅格图像（<code class="docutils literal notranslate"><span class="pre">'MEM'</span></code>），但可以根据需要进行更改。例如，可以使用 <code class="docutils literal notranslate"><span class="pre">GTiff</span></code> 创建 <code class="docutils literal notranslate"><span class="pre">GeoTiff</span></code> 文件。有关文件类型的列表，还可以查看 <a href="#id9"><span class="problematic" id="id14">`GDAL 栅格格式`__</span></a> 列表。</p>
<p>内存中的栅格图像可以通过以下示例创建：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;MEM&#39;</span>
</pre></div>
</div>
<p>通过以下示例可以创建基于文件的 GeoTiff 栅格图像：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tempfile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rstfile</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.tif&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;GTiff&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">rstfile</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;nr_of_bands&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;/tmp/tmp7x9H4J.tif&#39;           # The exact filename will be different on your computer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;GTiff&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.width">
<code class="sig-name descname"><span class="pre">width</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.width" title="永久链接至目标">¶</a></dt>
<dd><p>源的宽度，以像素为单位（X 轴）。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span><span class="o">.</span><span class="n">width</span>
<span class="go">10</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.height">
<code class="sig-name descname"><span class="pre">height</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.height" title="永久链接至目标">¶</a></dt>
<dd><p>源的高度，以像素为单位（Y 轴）。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span><span class="o">.</span><span class="n">height</span>
<span class="go">20</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.srs">
<code class="sig-name descname"><span class="pre">srs</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.srs" title="永久链接至目标">¶</a></dt>
<dd><p>栅格图像的空间参考系统，作为一个 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 实例。SRS 可以通过将其设置为另一个 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 或提供 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 构造函数接受的任何输入来更改。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">srid</span>
<span class="go">4326</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">srs</span> <span class="o">=</span> <span class="mi">3086</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">srid</span>
<span class="go">3086</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.srid">
<code class="sig-name descname"><span class="pre">srid</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.srid" title="永久链接至目标">¶</a></dt>
<dd><p>栅格图像的空间参考系统标识符（SRID）。此属性是通过 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.srs" title="django.contrib.gis.gdal.GDALRaster.srs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">srs</span></code></a> 属性获取或设置 SRID 的快捷方式。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">srid</span>
<span class="go">4326</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">srid</span> <span class="o">=</span> <span class="mi">3086</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">srid</span>
<span class="go">3086</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">srs</span><span class="o">.</span><span class="n">srid</span>  <span class="c1"># This is equivalent</span>
<span class="go">3086</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.geotransform">
<code class="sig-name descname"><span class="pre">geotransform</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.geotransform" title="永久链接至目标">¶</a></dt>
<dd><p>用于地理参考源的仿射变换矩阵，表示为六个系数的元组，这些系数将像素/行坐标映射到地理参考空间，关系如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Xgeo</span> <span class="o">=</span> <span class="n">GT</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="n">Xpixel</span> <span class="o">*</span> <span class="n">GT</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">Yline</span> <span class="o">*</span> <span class="n">GT</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">Ygeo</span> <span class="o">=</span> <span class="n">GT</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="n">Xpixel</span> <span class="o">*</span> <span class="n">GT</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="n">Yline</span> <span class="o">*</span> <span class="n">GT</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>可以通过访问 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.origin" title="django.contrib.gis.gdal.GDALRaster.origin"><code class="xref py py-attr docutils literal notranslate"><span class="pre">origin</span></code></a> （索引 0 和 3）、<a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.scale" title="django.contrib.gis.gdal.GDALRaster.scale"><code class="xref py py-attr docutils literal notranslate"><span class="pre">scale</span></code></a> （索引 1 和 5）和 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.skew" title="django.contrib.gis.gdal.GDALRaster.skew"><code class="xref py py-attr docutils literal notranslate"><span class="pre">skew</span></code></a> （索引 2 和 4）属性来获取相同的值。</p>
<p>默认值为 <code class="docutils literal notranslate"><span class="pre">[0.0,</span> <span class="pre">1.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0,</span> <span class="pre">0.0,</span> <span class="pre">-1.0]</span></code>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">geotransform</span>
<span class="go">[0.0, 1.0, 0.0, 0.0, 0.0, -1.0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.origin">
<code class="sig-name descname"><span class="pre">origin</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.origin" title="永久链接至目标">¶</a></dt>
<dd><p>栅格图像在源的空间参考系统中的左上角原点坐标，表示为具有 <code class="docutils literal notranslate"><span class="pre">x</span></code> 和 <code class="docutils literal notranslate"><span class="pre">y</span></code> 成员的点对象。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">origin</span>
<span class="go">[0.0, 0.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">origin</span>
<span class="go">[1.0, 0.0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.scale">
<code class="sig-name descname"><span class="pre">scale</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.scale" title="永久链接至目标">¶</a></dt>
<dd><p>用于地理参考栅格图像的像素宽度和高度，表示为具有 <code class="docutils literal notranslate"><span class="pre">x</span></code> 和 <code class="docutils literal notranslate"><span class="pre">y</span></code> 成员的点对象。有关更多信息，请参阅 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.geotransform" title="django.contrib.gis.gdal.GDALRaster.geotransform"><code class="xref py py-attr docutils literal notranslate"><span class="pre">geotransform</span></code></a>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">scale</span>
<span class="go">[1.0, -1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">scale</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">scale</span>
<span class="go">[2.0, -1.0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.skew">
<code class="sig-name descname"><span class="pre">skew</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.skew" title="永久链接至目标">¶</a></dt>
<dd><p>用于地理参考栅格图像的偏移系数，表示为具有 <code class="docutils literal notranslate"><span class="pre">x</span></code> 和 <code class="docutils literal notranslate"><span class="pre">y</span></code> 成员的点对象。在北向图像的情况下，这些系数都为 <code class="docutils literal notranslate"><span class="pre">0</span></code>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">skew</span>
<span class="go">[0.0, 0.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">skew</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">skew</span>
<span class="go">[3.0, 0.0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.extent">
<code class="sig-name descname"><span class="pre">extent</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.extent" title="永久链接至目标">¶</a></dt>
<dd><p>栅格图像源的范围（边界值），表示为源的空间参考系统中的 4 元组 <code class="docutils literal notranslate"><span class="pre">(xmin,</span> <span class="pre">ymin,</span> <span class="pre">xmax,</span> <span class="pre">ymax)</span></code>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">extent</span>
<span class="go">(0.0, -20.0, 10.0, 0.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">extent</span>
<span class="go">(100.0, -20.0, 110.0, 0.0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.bands">
<code class="sig-name descname"><span class="pre">bands</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.bands" title="永久链接至目标">¶</a></dt>
<dd><p>源的所有波段列表，表示为 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand" title="django.contrib.gis.gdal.GDALBand"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALBand</span></code></a> 实例。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]},</span> <span class="p">{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">rst</span><span class="o">.</span><span class="n">bands</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">bands</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
<span class="go">array([[ 2.,  3.]], dtype=float32)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.warp">
<code class="sig-name descname"><span class="pre">warp</span></code>(<em><span class="n"><span class="pre">ds_input</span></span></em>, <em><span class="n"><span class="pre">resampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'NearestNeighbour'</span></span></em>, <em><span class="n"><span class="pre">max_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.warp" title="永久链接至目标">¶</a></dt>
<dd><p>返回此栅格图像的变形版本。</p>
<p>变形参数可以通过 <code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 参数进行指定。使用 <code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 与类构造函数的相应参数类似。它是一个具有目标栅格图像特征的字典。允许的字典键值包括 width、height、SRID、origin、scale、skew、datatype、driver 和 name（文件名）。</p>
<p>默认情况下，变形函数将大多数参数保持等于原始源栅格图像的值，因此只需要指定需要更改的参数。请注意，这包括驱动程序，因此对于基于文件的栅格图像，变形函数将在磁盘上创建一个新的栅格图像。</p>
<p>唯一与源栅格图像不同的参数是名称。栅格图像的默认名称是源栅格图像的名称附加上 <code class="docutils literal notranslate"><span class="pre">'_copy'</span> <span class="pre">+</span> <span class="pre">source_driver_name</span></code>。对于基于文件的栅格图像，建议提供目标栅格图像的文件路径。</p>
<p>用于变形的重采样算法可以通过 <code class="docutils literal notranslate"><span class="pre">resampling</span></code> 参数进行指定。默认值是 <code class="docutils literal notranslate"><span class="pre">NearestNeighbor</span></code>，其他允许的值包括 <code class="docutils literal notranslate"><span class="pre">Bilinear</span></code>、<code class="docutils literal notranslate"><span class="pre">Cubic</span></code>、<code class="docutils literal notranslate"><span class="pre">CubicSpline</span></code>、<code class="docutils literal notranslate"><span class="pre">Lanczos</span></code>、<code class="docutils literal notranslate"><span class="pre">Average</span></code> 和 <code class="docutils literal notranslate"><span class="pre">Mode</span></code>。</p>
<p><code class="docutils literal notranslate"><span class="pre">max_error</span></code> 参数可以用于指定在近似变换中允许的最大误差，以输入像素为单位进行测量。默认值为 0.0，表示精确计算。</p>
<p>对于熟悉 <code class="docutils literal notranslate"><span class="pre">GDAL</span></code> 的用户，此函数具有类似于 <code class="docutils literal notranslate"><span class="pre">gdalwarp</span></code> 命令行实用程序的功能。</p>
<p>例如，可以使用变形函数将栅格图像聚合到其原始像素比例的两倍：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">3086</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">500000</span><span class="p">,</span> <span class="mi">400000</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">36</span><span class="p">),</span> <span class="s2">&quot;nodata_value&quot;</span><span class="p">:</span> <span class="mi">99</span><span class="p">}],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">rst</span><span class="o">.</span><span class="n">warp</span><span class="p">({</span><span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="o">-</span><span class="mi">200</span><span class="p">],</span> <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span><span class="o">.</span><span class="n">bands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
<span class="go">array([[  7.,   9.,  11.],</span>
<span class="go">       [ 19.,  21.,  23.],</span>
<span class="go">       [ 31.,  33.,  35.]], dtype=float32)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.transform">
<code class="sig-name descname"><span class="pre">transform</span></code>(<em><span class="n"><span class="pre">srs</span></span></em>, <em><span class="n"><span class="pre">driver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">resampling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'NearestNeighbour'</span></span></em>, <em><span class="n"><span class="pre">max_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.transform" title="永久链接至目标">¶</a></dt>
<dd><p>将此栅格图像转换为不同的空间参考系统（<code class="docutils literal notranslate"><span class="pre">srs</span></code>），可以是一个 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 对象，或者是 <a class="reference internal" href="#django.contrib.gis.gdal.SpatialReference" title="django.contrib.gis.gdal.SpatialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialReference</span></code></a> 接受的任何其他输入（包括空间参考 WKT 和 PROJ 字符串，或整数 SRID）。</p>
<p>它会计算当前栅格图像在新的空间参考系统中的范围和比例，并使用 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.warp" title="django.contrib.gis.gdal.GDALRaster.warp"><code class="xref py py-attr docutils literal notranslate"><span class="pre">warp</span></code></a> 函数对栅格图像进行变形。</p>
<p>默认情况下，使用源栅格图像的驱动程序，并且栅格图像的名称是原始名称附加上 <code class="docutils literal notranslate"><span class="pre">'_copy'</span> <span class="pre">+</span> <span class="pre">source_driver_name</span></code>。可以使用 <code class="docutils literal notranslate"><span class="pre">driver</span></code> 和 <code class="docutils literal notranslate"><span class="pre">name</span></code> 参数指定不同的驱动程序或名称。</p>
<p>默认的重采样算法是 <code class="docutils literal notranslate"><span class="pre">NearestNeighbour</span></code>，但可以使用 <code class="docutils literal notranslate"><span class="pre">resampling</span></code> 参数进行更改。默认的允许的最大误差为 0.0，可以使用 <code class="docutils literal notranslate"><span class="pre">max_error</span></code> 参数进行更改。有关这些参数的详细信息，请参阅 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.warp" title="django.contrib.gis.gdal.GDALRaster.warp"><code class="xref py py-attr docutils literal notranslate"><span class="pre">warp</span></code></a> 文档。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">3086</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">500000</span><span class="p">,</span> <span class="mi">400000</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">36</span><span class="p">),</span> <span class="s2">&quot;nodata_value&quot;</span><span class="p">:</span> <span class="mi">99</span><span class="p">}],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target_srs</span> <span class="o">=</span> <span class="n">SpatialReference</span><span class="p">(</span><span class="mi">4326</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">rst</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">target_srs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span><span class="o">.</span><span class="n">origin</span>
<span class="go">[-82.98492744885776, 27.601924753080144]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.info">
<code class="sig-name descname"><span class="pre">info</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.info" title="永久链接至目标">¶</a></dt>
<dd><p>返回一个包含栅格图像摘要的字符串。这相当于 <a href="#id9"><span class="problematic" id="id15">`gdalinfo`__</span></a> 命令行实用程序。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.metadata">
<code class="sig-name descname"><span class="pre">metadata</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.metadata" title="永久链接至目标">¶</a></dt>
<dd><p>这个光栅数据的元数据，以嵌套字典的方式表示。第一级键是元数据的领域。第二级包含来自每个领域的元数据项名称和值。</p>
<p>要设置或更新元数据项，请使用上面描述的嵌套结构将相应的元数据项传递给该方法。只有在指定的字典中的键才会被更新；其余的元数据保持不变。</p>
<p>要删除一个元数据项，请将元数据值设置为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">({</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">metadata</span>
<span class="go">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;DEFAULT&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;OWNER&quot;</span><span class="p">:</span> <span class="s2">&quot;Django&quot;</span><span class="p">,</span> <span class="s2">&quot;VERSION&quot;</span><span class="p">:</span> <span class="s2">&quot;1.0&quot;</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">metadata</span>
<span class="go">{&#39;DEFAULT&#39;: {&#39;OWNER&#39;: &#39;Django&#39;, &#39;VERSION&#39;: &#39;1.0&#39;}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;DEFAULT&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;OWNER&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;VERSION&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">metadata</span>
<span class="go">{&#39;DEFAULT&#39;: {&#39;VERSION&#39;: &#39;2.0&#39;}}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.vsi_buffer">
<code class="sig-name descname"><span class="pre">vsi_buffer</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.vsi_buffer" title="永久链接至目标">¶</a></dt>
<dd><p>这个光栅的 <code class="docutils literal notranslate"><span class="pre">bytes</span></code> 表示。对于不存储在 GDAL 虚拟文件系统中的光栅，返回 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALRaster.is_vsi_based">
<code class="sig-name descname"><span class="pre">is_vsi_based</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALRaster.is_vsi_based" title="永久链接至目标">¶</a></dt>
<dd><p>一个布尔值，指示此栅格是否存储在 GDAL 的虚拟文件系统中。</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-gdalband">
<span id="gdalband"></span><h3><code class="docutils literal notranslate"><span class="pre">GDALBand</span></code><a class="headerlink" href="#gdalband" title="永久链接至标题">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">GDALBand</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand" title="永久链接至目标">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">GDALBand</span></code> 实例不是显式创建的，而是通过其 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.bands" title="django.contrib.gis.gdal.GDALRaster.bands"><code class="xref py py-attr docutils literal notranslate"><span class="pre">bands</span></code></a> 属性从一个 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster" title="django.contrib.gis.gdal.GDALRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALRaster</span></code></a> 对象中获取的。GDALBands 包含了栅格的实际像素值。</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.description">
<code class="sig-name descname"><span class="pre">description</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.description" title="永久链接至目标">¶</a></dt>
<dd><p>带的名称或描述，如果有的话。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.width">
<code class="sig-name descname"><span class="pre">width</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.width" title="永久链接至目标">¶</a></dt>
<dd><p>像素单位下的带宽度（X轴）。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.height">
<code class="sig-name descname"><span class="pre">height</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.height" title="永久链接至目标">¶</a></dt>
<dd><p>像素单位下的带高度（Y轴）。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.pixel_count">
<code class="sig-name descname"><span class="pre">pixel_count</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.pixel_count" title="永久链接至目标">¶</a></dt>
<dd><p>这个带的总像素数等于 <code class="docutils literal notranslate"><span class="pre">宽度</span> <span class="pre">*</span> <span class="pre">高度</span></code>。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.statistics">
<code class="sig-name descname"><span class="pre">statistics</span></code>(<em><span class="n"><span class="pre">refresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em><span class="n"><span class="pre">approximate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.statistics" title="永久链接至目标">¶</a></dt>
<dd><p>计算这个带的像素值统计信息。返回值是一个具有以下结构的元组：<code class="docutils literal notranslate"><span class="pre">(最小值,</span> <span class="pre">最大值,</span> <span class="pre">平均值,</span> <span class="pre">标准差)</span></code>。</p>
<p>如果 <code class="docutils literal notranslate"><span class="pre">approximate</span></code> 参数设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code>，则可以基于概览或图像块的子集来计算统计信息。</p>
<p>如果 <code class="docutils literal notranslate"><span class="pre">refresh</span></code> 参数设置为 <code class="docutils literal notranslate"><span class="pre">True</span></code>，统计信息将直接从数据中计算，并且缓存将使用结果进行更新。</p>
<p>如果找到持久缓存值，将返回该值。对于使用持久辅助元数据（PAM）服务的栅格格式，统计信息可能会缓存在辅助文件中。在某些情况下，这些元数据可能与像素值不同步，或者导致返回先前调用的值，这些值不反映 <code class="docutils literal notranslate"><span class="pre">approximate</span></code> 参数的值。在这种情况下，使用 <code class="docutils literal notranslate"><span class="pre">refresh</span></code> 参数来获取更新的值并将其存储在缓存中。</p>
<p>对于空白带（其中所有像素值均为“无数据”），所有统计信息都将返回为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
<p>统计信息还可以通过直接访问 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand.min" title="django.contrib.gis.gdal.GDALBand.min"><code class="xref py py-attr docutils literal notranslate"><span class="pre">min</span></code></a>、<a class="reference internal" href="#django.contrib.gis.gdal.GDALBand.max" title="django.contrib.gis.gdal.GDALBand.max"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max</span></code></a>、<a class="reference internal" href="#django.contrib.gis.gdal.GDALBand.mean" title="django.contrib.gis.gdal.GDALBand.mean"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mean</span></code></a> 和 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand.std" title="django.contrib.gis.gdal.GDALBand.std"><code class="xref py py-attr docutils literal notranslate"><span class="pre">std</span></code></a> 属性来获取。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.min">
<code class="sig-name descname"><span class="pre">min</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.min" title="永久链接至目标">¶</a></dt>
<dd><p>带中的最小像素值（不包括“无数据”值）。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.max">
<code class="sig-name descname"><span class="pre">max</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.max" title="永久链接至目标">¶</a></dt>
<dd><p>带中的最大像素值（不包括“无数据”值）。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.mean">
<code class="sig-name descname"><span class="pre">mean</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.mean" title="永久链接至目标">¶</a></dt>
<dd><p>带中所有像素值的平均值（不包括“无数据”值）。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.std">
<code class="sig-name descname"><span class="pre">std</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.std" title="永久链接至目标">¶</a></dt>
<dd><p>带中所有像素值的标准差（不包括“无数据”值）。</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.nodata_value">
<code class="sig-name descname"><span class="pre">nodata_value</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.nodata_value" title="永久链接至目标">¶</a></dt>
<dd><p>带的“无数据”值通常是一个特殊的标记值，用于标记无效数据的像素。这些像素通常不应显示，也不应对分析操作产生影响。</p>
<p>要删除现有的“无数据”值，将该属性设置为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.datatype">
<code class="sig-name descname"><span class="pre">datatype</span></code>(<em><span class="n"><span class="pre">as_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.datatype" title="永久链接至目标">¶</a></dt>
<dd><p>带中包含的数据类型，作为一个介于0（未知）和 14 之间的整数常量。如果 <code class="docutils literal notranslate"><span class="pre">as_string</span></code> 为 <code class="docutils literal notranslate"><span class="pre">True</span></code>，则数据类型将作为字符串返回。请查看 <a class="reference internal" href="#gdal-raster-datatype"><span class="std std-ref">数据类型值表</span></a> 中的 &quot;GDAL 像素类型&quot; 列，了解可能的值。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.color_interp">
<code class="sig-name descname"><span class="pre">color_interp</span></code>(<em><span class="n"><span class="pre">as_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.color_interp" title="永久链接至目标">¶</a></dt>
<dd><p>带的颜色解释，作为一个介于 0 和 16 之间的整数。如果 <code class="docutils literal notranslate"><span class="pre">as_string</span></code> 为 <code class="docutils literal notranslate"><span class="pre">True</span></code>，则颜色解释将作为一个字符串返回，可能的值包括：<code class="docutils literal notranslate"><span class="pre">GCI_Undefined</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_GrayIndex</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_PaletteIndex</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_RedBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_GreenBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_BlueBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_AlphaBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_HueBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_SaturationBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_LightnessBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_CyanBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_MagentaBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_YellowBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_BlackBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_YCbCr_YBand</span></code>、<code class="docutils literal notranslate"><span class="pre">GCI_YCbCr_CbBand</span></code> 和 <code class="docutils literal notranslate"><span class="pre">GCI_YCbCr_CrBand</span></code>。<code class="docutils literal notranslate"><span class="pre">GCI_YCbCr_CrBand</span></code> 也代表 <code class="docutils literal notranslate"><span class="pre">GCI_Max</span></code>，因为两者都对应整数 16，但只有 <code class="docutils literal notranslate"><span class="pre">GCI_YCbCr_CrBand</span></code> 作为字符串返回。</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.data">
<code class="sig-name descname"><span class="pre">data</span></code>(<em><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>)<a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.data" title="永久链接至目标">¶</a></dt>
<dd><p>访问 <code class="docutils literal notranslate"><span class="pre">GDALBand</span></code> 的像素值的访问器。如果不提供参数，则返回完整的数据数组。可以通过指定偏移和块大小的元组来请求像素数组的子集。</p>
<p>如果有 NumPy 可用，数据将作为 NumPy 数组返回。出于性能考虑，强烈建议使用 NumPy。</p>
<p>如果提供了 <code class="docutils literal notranslate"><span class="pre">data</span></code> 参数，数据将被写入 <code class="docutils literal notranslate"><span class="pre">GDALBand</span></code>。输入可以是以下类型之一 - 打包的字符串、缓冲区、列表、数组和 NumPy 数组。输入中的项目数通常应与带中的总像素数相对应，或者与特定像素值块的像素数相对应，如果提供了 <code class="docutils literal notranslate"><span class="pre">offset</span></code> 和 <code class="docutils literal notranslate"><span class="pre">size</span></code> 参数的话。</p>
<p>如果输入中的项目数与目标像素块不同，必须指定 <code class="docutils literal notranslate"><span class="pre">shape</span></code> 参数。<code class="docutils literal notranslate"><span class="pre">shape</span></code> 是一个元组，指定了像素单位中输入数据的宽度和高度。然后，数据将被复制以更新所选块的像素值。这对于用单个值填充整个带非常有用。</p>
<p>例如：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span><span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">,</span> <span class="s2">&quot;datatype&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;nr_of_bands&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span> <span class="o">=</span> <span class="n">rst</span><span class="o">.</span><span class="n">bands</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
<span class="go">array([[ 0,  1,  2,  3],</span>
<span class="go">       [ 4,  5,  6,  7],</span>
<span class="go">       [ 8,  9, 10, 11],</span>
<span class="go">       [12, 13, 14, 15]], dtype=int8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="go">array([[ 5,  6],</span>
<span class="go">       [ 9, 10]], dtype=int8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="n">offset</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
<span class="go">array([[ 0,  1,  2,  3],</span>
<span class="go">       [ 4, -1, -2,  7],</span>
<span class="go">       [ 8, -3, -4, 11],</span>
<span class="go">       [12, 13, 14, 15]], dtype=int8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\x9d\xa8\xb3\xbe</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
<span class="go">array([[  0,   1,   2,   3],</span>
<span class="go">       [  4, -99, -88,   7],</span>
<span class="go">       [  8, -77, -66,  11],</span>
<span class="go">       [ 12,  13,  14,  15]], dtype=int8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span><span class="o">.</span><span class="n">data</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
<span class="go">array([[1, 1, 1, 1],</span>
<span class="go">       [1, 1, 1, 1],</span>
<span class="go">       [1, 1, 1, 1],</span>
<span class="go">       [1, 1, 1, 1]], dtype=uint8)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bnd</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="go">array([[0, 0, 0, 0],</span>
<span class="go">       [1, 1, 1, 1],</span>
<span class="go">       [2, 2, 2, 2],</span>
<span class="go">       [3, 3, 3, 3]], dtype=uint8)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALBand.metadata">
<code class="sig-name descname"><span class="pre">metadata</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALBand.metadata" title="永久链接至目标">¶</a></dt>
<dd><p>此带的元数据。功能与 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.metadata" title="django.contrib.gis.gdal.GDALRaster.metadata"><code class="xref py py-attr docutils literal notranslate"><span class="pre">GDALRaster.metadata</span></code></a> 相同。</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="s-creating-rasters-from-data">
<span id="s-gdal-raster-ds-input"></span><span id="creating-rasters-from-data"></span><span id="gdal-raster-ds-input"></span><h3>从数据创建栅格图像<a class="headerlink" href="#creating-rasters-from-data" title="永久链接至标题">¶</a></h3>
<p>本节描述如何使用 <code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 参数从头创建栅格图像。</p>
<p>当将一个包含新栅格定义参数的字典传递给 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster" title="django.contrib.gis.gdal.GDALRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALRaster</span></code></a> 构造函数时，将创建一个新的栅格图像。字典包含新栅格的定义参数，如原点、大小或空间参考系统。字典还可以包含像素数据和有关新栅格格式的信息。因此，生成的栅格可以是基于文件或基于内存的，这取决于指定的驱动程序。</p>
<p>在字典或 JSON 格式中，没有用于描述栅格数据的标准。因此，传递给 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster" title="django.contrib.gis.gdal.GDALRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALRaster</span></code></a> 类的字典输入的定义是特定于 Django 的。它受到 geojson 格式的启发，但当前的 <code class="docutils literal notranslate"><span class="pre">geojson</span></code> 标准仅限于矢量格式。</p>
<p>在 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster" title="django.contrib.gis.gdal.GDALRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALRaster</span></code></a> 和 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand" title="django.contrib.gis.gdal.GDALBand"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALBand</span></code></a> 类的相应属性和方法的文档中可以找到创建栅格时使用不同键的示例。</p>
<div class="section" id="s-the-ds-input-dictionary">
<span id="the-ds-input-dictionary"></span><h4><code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 字典<a class="headerlink" href="#the-ds-input-dictionary" title="永久链接至标题">¶</a></h4>
<p>要创建栅格， <code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 字典中只需要几个必需的键：<code class="docutils literal notranslate"><span class="pre">width</span></code>、<code class="docutils literal notranslate"><span class="pre">height</span></code> 和 <code class="docutils literal notranslate"><span class="pre">srid</span></code>。所有其他参数都具有默认值（请参阅下表）。可以传递到 <code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 字典中的键列表与 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster" title="django.contrib.gis.gdal.GDALRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALRaster</span></code></a> 属性密切相关，但不完全相同。许多参数直接映射到这些属性；其他参数如下所述。</p>
<p>以下表格描述了可以在 <code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 字典中设置的所有键。</p>
<table class="docutils">
<colgroup>
<col width="23%" />
<col width="11%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">键</th>
<th class="head">默认</th>
<th class="head">用法</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">srid</span></code></td>
<td>必须的</td>
<td>映射到 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.srid" title="django.contrib.gis.gdal.GDALRaster.srid"><code class="xref py py-attr docutils literal notranslate"><span class="pre">srid</span></code></a> 属性。</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">width</span></code></td>
<td>必须的</td>
<td>映射到 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.width" title="django.contrib.gis.gdal.GDALRaster.width"><code class="xref py py-attr docutils literal notranslate"><span class="pre">width</span></code></a> 属性。</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">height</span></code></td>
<td>必须的</td>
<td>映射到 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.height" title="django.contrib.gis.gdal.GDALRaster.height"><code class="xref py py-attr docutils literal notranslate"><span class="pre">height</span></code></a> 属性。</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">driver</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">MEM</span></code></td>
<td>映射到 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.driver" title="django.contrib.gis.gdal.GDALRaster.driver"><code class="xref py py-attr docutils literal notranslate"><span class="pre">driver</span></code></a> 属性。</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">name</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">''</span></code></td>
<td>见以下</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">origin</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>映射到 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.origin" title="django.contrib.gis.gdal.GDALRaster.origin"><code class="xref py py-attr docutils literal notranslate"><span class="pre">origin</span></code></a> 属性。</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">scale</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>映射到 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.scale" title="django.contrib.gis.gdal.GDALRaster.scale"><code class="xref py py-attr docutils literal notranslate"><span class="pre">scale</span></code></a> 属性。</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">skew</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>映射到 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.width" title="django.contrib.gis.gdal.GDALRaster.width"><code class="xref py py-attr docutils literal notranslate"><span class="pre">width</span></code></a> 属性。</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">bands</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">[]</span></code></td>
<td>见以下</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">nr_of_bands</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">0</span></code></td>
<td>见以下</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">datatype</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">6</span></code></td>
<td>见以下</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">papsz_options</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">{}</span></code></td>
<td>见以下</td>
</tr>
</tbody>
</table>
<dl class="object">
<dt class="sig sig-object">
<code class="sig-name descname"><span class="pre">name</span></code></dt>
<dd><p>表示栅格的名称的字符串。在创建基于文件的栅格时，此参数必须是新栅格的文件路径。如果名称以 <code class="docutils literal notranslate"><span class="pre">/vsimem/</span></code> 开头，则栅格将在 GDAL 的虚拟文件系统中创建。</p>
</dd></dl>

<span class="target" id="gdal-raster-datatype"></span><dl class="object">
<dt class="sig sig-object">
<code class="sig-name descname"><span class="pre">datatype</span></code></dt>
<dd><p>表示所有波段的数据类型的整数。默认值为 <code class="docutils literal notranslate"><span class="pre">6</span></code> （Float32）。新栅格的所有波段都必须具有相同的数据类型。值映射如下：</p>
<table class="docutils">
<colgroup>
<col width="9%" />
<col width="27%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">值</th>
<th class="head">GDAL 像素类型</th>
<th class="head">描述</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>GDT_Byte</td>
<td>8 位无符号整数</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>GDT_UInt16</td>
<td>16 位无符号整数</td>
</tr>
<tr class="row-even"><td>3</td>
<td>GDT_Int16</td>
<td>16 位有符号整数</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>GDT_UInt32</td>
<td>32 位无符号整数</td>
</tr>
<tr class="row-even"><td>5</td>
<td>GDT_Int32</td>
<td>32 位有符号整数</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>GDT_Float32</td>
<td>32 位浮点数</td>
</tr>
<tr class="row-even"><td>7</td>
<td>GDT_Float64</td>
<td>64 位浮点数</td>
</tr>
<tr class="row-odd"><td>12</td>
<td>GDT_UInt64</td>
<td>64 位无符号整数（GDAL 3.5+）</td>
</tr>
<tr class="row-even"><td>13</td>
<td>GDT_Int64</td>
<td>64 位有符号整数（GDAL 3.5+）</td>
</tr>
<tr class="row-odd"><td>14</td>
<td>GDT_Int8</td>
<td>8 位有符号整数（GDAL 3.7+）</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="object">
<dt class="sig sig-object">
<code class="sig-name descname"><span class="pre">nr_of_bands</span></code></dt>
<dd><p>表示栅格波段数量的整数。可以在创建时创建栅格而不传递波段数据。如果未指定波段数量，则会自动从 <code class="docutils literal notranslate"><span class="pre">bands</span></code> 输入的长度计算出来。在创建后无法更改波段数量。</p>
</dd></dl>

<dl class="object">
<dt class="sig sig-object">
<code class="sig-name descname"><span class="pre">bands</span></code></dt>
<dd><p>包含带有波段输入数据的 <code class="docutils literal notranslate"><span class="pre">band_input</span></code> 字典列表。生成的波段索引与提供的列表中的索引相同。波段输入字典的定义如下。如果未提供波段数据，则栅格波段的值将初始化为零数组，并且 &quot;无数据&quot; 值将设置为 <code class="docutils literal notranslate"><span class="pre">None</span></code>。</p>
</dd></dl>

<dl class="object">
<dt class="sig sig-object">
<code class="sig-name descname"><span class="pre">papsz_options</span></code></dt>
<dd><p>一个包含栅格创建选项的字典。输入字典的键值对在创建栅格时传递给驱动程序。</p>
<p>可用选项是特定于驱动程序的，并在每个驱动程序的文档中进行了描述。</p>
<p>字典中的值不区分大小写，并在创建时自动转换为正确的字符串格式。</p>
<p>以下示例使用 <a href="#id9"><span class="problematic" id="id16">`GTiff 驱动程序`__</span></a> 的一些选项。结果是一个带有内部切片方案的压缩栅格。内部切片的块大小为 23 乘 23：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">GDALRaster</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;GTiff&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/new/file.tif&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">4326</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">255</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;nr_of_bands&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;papsz_options&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>            <span class="s2">&quot;compress&quot;</span><span class="p">:</span> <span class="s2">&quot;packbits&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;tiled&quot;</span><span class="p">:</span> <span class="s2">&quot;yes&quot;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;blockxsize&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
<span class="gp">... </span>            <span class="s2">&quot;blockysize&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
<span class="gp">... </span>        <span class="p">},</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="s-the-band-input-dictionary">
<span id="the-band-input-dictionary"></span><h4><code class="docutils literal notranslate"><span class="pre">band_input</span></code> 字典<a class="headerlink" href="#the-band-input-dictionary" title="永久链接至标题">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 字典中的 <code class="docutils literal notranslate"><span class="pre">bands</span></code> 键是一个包含 <code class="docutils literal notranslate"><span class="pre">band_input</span></code> 字典的列表。每个 <code class="docutils literal notranslate"><span class="pre">band_input</span></code> 字典可以包含像素值和要在新栅格的波段上设置的 &quot;no data&quot; 值。数据数组可以具有新栅格的全尺寸或更小。对于小于完整栅格的数组，<code class="docutils literal notranslate"><span class="pre">size</span></code>、<code class="docutils literal notranslate"><span class="pre">shape</span></code> 和 <code class="docutils literal notranslate"><span class="pre">offset</span></code> 键控制像素值。相应的键传递给 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand.data" title="django.contrib.gis.gdal.GDALBand.data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">data()</span></code></a> 方法。它们的功能与使用该方法设置波段数据的方式相同。以下表格描述了可以使用的键。</p>
<table class="docutils">
<colgroup>
<col width="16%" />
<col width="32%" />
<col width="52%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">键</th>
<th class="head">默认</th>
<th class="head">用法</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">nodata_value</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">None</span></code></td>
<td>映射到 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand.nodata_value" title="django.contrib.gis.gdal.GDALBand.nodata_value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">nodata_value</span></code></a> 属性</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">data</span></code></td>
<td>与 <code class="docutils literal notranslate"><span class="pre">nodata_value</span></code> 或 <code class="docutils literal notranslate"><span class="pre">0</span></code> 相同</td>
<td>传递给 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand.data" title="django.contrib.gis.gdal.GDALBand.data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">data()</span></code></a> 方法</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">size</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">(宽度,</span> <span class="pre">高度)</span></code> 的栅格</td>
<td>传递给 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand.data" title="django.contrib.gis.gdal.GDALBand.data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">data()</span></code></a> 方法</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">shape</span></code></td>
<td>与尺寸相同</td>
<td>传递给 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand.data" title="django.contrib.gis.gdal.GDALBand.data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">data()</span></code></a> 方法</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">offset</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0)</span></code></td>
<td>传递给 <a class="reference internal" href="#django.contrib.gis.gdal.GDALBand.data" title="django.contrib.gis.gdal.GDALBand.data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">data()</span></code></a> 方法</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="s-using-gdal-s-virtual-filesystem">
<span id="s-gdal-raster-vsimem"></span><span id="using-gdal-s-virtual-filesystem"></span><span id="gdal-raster-vsimem"></span><h3>使用 GDAL 的虚拟文件系统<a class="headerlink" href="#using-gdal-s-virtual-filesystem" title="永久链接至标题">¶</a></h3>
<p>GDAL 可以访问存储在文件系统中的文件，还支持虚拟文件系统，以抽象访问其他类型的文件，例如压缩、加密或远程文件。</p>
<div class="section" id="s-using-memory-based-virtual-filesystem">
<span id="using-memory-based-virtual-filesystem"></span><h4>使用基于内存的虚拟文件系统<a class="headerlink" href="#using-memory-based-virtual-filesystem" title="永久链接至标题">¶</a></h4>
<p>GDAL 具有内置的基于内存的文件系统，允许将内存块视为文件。它可以用于从二进制文件缓冲区读取和写入 <a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster" title="django.contrib.gis.gdal.GDALRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALRaster</span></code></a> 对象。</p>
<p>这在 Web 上的情况下非常有用，因为栅格可能以缓冲区的形式从远程存储获取，或者从视图返回而无需写入磁盘。</p>
<p>当提供一个 <code class="docutils literal notranslate"><span class="pre">bytes</span></code> 对象作为输入，或者文件路径以 <code class="docutils literal notranslate"><span class="pre">/vsimem/</span></code> 开头时，<a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster" title="django.contrib.gis.gdal.GDALRaster"><code class="xref py py-class docutils literal notranslate"><span class="pre">GDALRaster</span></code></a> 对象将在虚拟文件系统中创建。</p>
<p>提供的输入作为 <code class="docutils literal notranslate"><span class="pre">bytes</span></code> 必须是文件的完整二进制表示。例如：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="go"># Read a raster as a file object from a remote source.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlopen</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dat</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="s2">&quot;http://example.com/raster.tif&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="go"># Instantiate a raster from the bytes object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span>
<span class="go"># The name starts with /vsimem/, indicating that the raster lives in the</span>
<span class="go"># virtual filesystem.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;/vsimem/da300bdb-129d-49a8-b336-e410a9428dad&#39;</span>
</pre></div>
</div>
<p>要从头开始创建一个新的虚拟文件基础的栅格，使用 <code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 字典表示并提供一个以 <code class="docutils literal notranslate"><span class="pre">/vsimem/</span></code> 开头的 <code class="docutils literal notranslate"><span class="pre">name</span></code> 参数（有关字典表示的详细信息，请参阅 <a class="reference internal" href="#gdal-raster-ds-input"><span class="std std-ref">从数据创建栅格图像</span></a>）。对于虚拟文件基础的栅格，<a class="reference internal" href="#django.contrib.gis.gdal.GDALRaster.vsi_buffer" title="django.contrib.gis.gdal.GDALRaster.vsi_buffer"><code class="xref py py-attr docutils literal notranslate"><span class="pre">vsi_buffer</span></code></a> 属性返回栅格的 <code class="docutils literal notranslate"><span class="pre">bytes</span></code> 表示。</p>
<p>以下是如何创建一个栅格并将其作为文件返回到 <a class="reference internal" href="../../request-response.html#django.http.HttpResponse" title="django.http.HttpResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">HttpResponse</span></code></a> 的方法：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;/vsimem/temporarymemfile&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;driver&quot;</span><span class="p">:</span> <span class="s2">&quot;tif&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;width&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;height&quot;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;srid&quot;</span><span class="p">:</span> <span class="mi">3086</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;origin&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">500000</span><span class="p">,</span> <span class="mi">400000</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;bands&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">36</span><span class="p">),</span> <span class="s2">&quot;nodata_value&quot;</span><span class="p">:</span> <span class="mi">99</span><span class="p">}],</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">HttpResponse</span><span class="p">(</span><span class="n">rast</span><span class="o">.</span><span class="n">vsi_buffer</span><span class="p">,</span> <span class="s2">&quot;image/tiff&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="s-using-other-virtual-filesystems">
<span id="using-other-virtual-filesystems"></span><h4>使用其他虚拟文件系统<a class="headerlink" href="#using-other-virtual-filesystems" title="永久链接至标题">¶</a></h4>
<p>根据 GDAL 的本地构建，可能支持其他虚拟文件系统。您可以通过在提供的路径前添加适当的 <code class="docutils literal notranslate"><span class="pre">/vsi*/</span></code> 前缀来使用它们。有关更多详细信息，请参阅 <a class="reference external" href="https://gdal.org/user/virtual_file_systems.html">GDAL 虚拟文件系统文档</a>。</p>
<div class="section" id="s-compressed-rasters">
<span id="compressed-rasters"></span><h5>压缩的栅格<a class="headerlink" href="#compressed-rasters" title="永久链接至标题">¶</a></h5>
<p>不必解压缩文件并实例化生成的栅格，GDAL 可以直接使用 <code class="docutils literal notranslate"><span class="pre">/vsizip/</span></code>、<code class="docutils literal notranslate"><span class="pre">/vsigzip/</span></code> 或 <code class="docutils literal notranslate"><span class="pre">/vsitar/</span></code> 虚拟文件系统访问压缩文件：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.contrib.gis.gdal</span> <span class="kn">import</span> <span class="n">GDALRaster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span><span class="s2">&quot;/vsizip/path/to/your/file.zip/path/to/raster.tif&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span><span class="s2">&quot;/vsigzip/path/to/your/file.gz&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span><span class="s2">&quot;/vsitar/path/to/your/file.tar/path/to/raster.tif&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="s-network-rasters">
<span id="network-rasters"></span><h5>网络栅格<a class="headerlink" href="#network-rasters" title="永久链接至标题">¶</a></h5>
<p>只要 GDAL 构建了这种能力，它可以透明地支持在线资源和存储提供商。</p>
<p>要访问一个无需身份验证的公共栅格文件，可以使用 <code class="docutils literal notranslate"><span class="pre">/vsicurl/</span></code>：</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">django.contrib.gis.gdal</span> <span class="kn">import</span> <span class="n">GDALRaster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span> <span class="o">=</span> <span class="n">GDALRaster</span><span class="p">(</span><span class="s2">&quot;/vsicurl/https://example.com/raster.tif&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rst</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;/vsicurl/https://example.com/raster.tif&#39;</span>
</pre></div>
</div>
<p>对于商业存储提供商（例如 <code class="docutils literal notranslate"><span class="pre">/vsis3/</span></code>），系统应事先配置身份验证和可能的其他设置（请参阅 <a class="reference external" href="https://gdal.org/user/virtual_file_systems.html">GDAL 虚拟文件系统文档</a> 以查看可用选项）。</p>
</div>
</div>
</div>
</div>
<div class="section" id="s-settings">
<span id="settings"></span><h2>配置<a class="headerlink" href="#settings" title="永久链接至标题">¶</a></h2>
<div class="section" id="s-gdal-library-path">
<span id="s-std-setting-GDAL_LIBRARY_PATH"></span><span id="s-std:setting-GDAL_LIBRARY_PATH"></span><span id="gdal-library-path"></span><span id="std-setting-GDAL_LIBRARY_PATH"></span><span id="std:setting-GDAL_LIBRARY_PATH"></span><h3><code class="docutils literal notranslate"><span class="pre">GDAL_LIBRARY_PATH</span></code><a class="headerlink" href="#gdal-library-path" title="永久链接至标题">¶</a></h3>
<p>一个字符串，用于指定 GDAL 库的位置。通常，只有在 GDAL 库位于非标准位置时才使用此设置（例如，<code class="docutils literal notranslate"><span class="pre">/home/john/lib/libgdal.so</span></code>）。</p>
</div>
</div>
<div class="section" id="s-exceptions">
<span id="exceptions"></span><h2>异常<a class="headerlink" href="#exceptions" title="永久链接至标题">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.GDALException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">GDALException</span></code><a class="headerlink" href="#django.contrib.gis.gdal.GDALException" title="永久链接至目标">¶</a></dt>
<dd><p>基本的 GDAL 异常，表示与 GDAL 相关的错误。</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="django.contrib.gis.gdal.SRSException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><code class="sig-name descname"><span class="pre">SRSException</span></code><a class="headerlink" href="#django.contrib.gis.gdal.SRSException" title="永久链接至目标">¶</a></dt>
<dd><p>当构造或使用空间参考系统对象时发生错误时引发的异常。</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      
        
          <div class="yui-b" id="sidebar">
            
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">GDAL API</a><ul>
<li><a class="reference internal" href="#overview">概况</a><ul>
<li><a class="reference internal" href="#sample-data">样本数据</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vector-data-source-objects">矢量数据源对象</a><ul>
<li><a class="reference internal" href="#datasource"><code class="docutils literal notranslate"><span class="pre">DataSource</span></code></a></li>
<li><a class="reference internal" href="#layer"><code class="docutils literal notranslate"><span class="pre">Layer</span></code></a></li>
<li><a class="reference internal" href="#feature"><code class="docutils literal notranslate"><span class="pre">Feature</span></code></a></li>
<li><a class="reference internal" href="#field"><code class="docutils literal notranslate"><span class="pre">Field</span></code></a></li>
<li><a class="reference internal" href="#driver"><code class="docutils literal notranslate"><span class="pre">Driver</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#ogr-geometries">OGR 几何对象</a><ul>
<li><a class="reference internal" href="#ogrgeometry"><code class="docutils literal notranslate"><span class="pre">OGRGeometry</span></code></a></li>
<li><a class="reference internal" href="#ogrgeomtype"><code class="docutils literal notranslate"><span class="pre">OGRGeomType</span></code></a></li>
<li><a class="reference internal" href="#envelope"><code class="docutils literal notranslate"><span class="pre">Envelope</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#coordinate-system-objects">坐标系统对象</a><ul>
<li><a class="reference internal" href="#spatialreference"><code class="docutils literal notranslate"><span class="pre">SpatialReference</span></code></a></li>
<li><a class="reference internal" href="#coordtransform"><code class="docutils literal notranslate"><span class="pre">CoordTransform</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#raster-data-objects">栅格数据对象</a><ul>
<li><a class="reference internal" href="#gdalraster"><code class="docutils literal notranslate"><span class="pre">GDALRaster</span></code></a></li>
<li><a class="reference internal" href="#gdalband"><code class="docutils literal notranslate"><span class="pre">GDALBand</span></code></a></li>
<li><a class="reference internal" href="#creating-rasters-from-data">从数据创建栅格图像</a><ul>
<li><a class="reference internal" href="#the-ds-input-dictionary"><code class="docutils literal notranslate"><span class="pre">ds_input</span></code> 字典</a></li>
<li><a class="reference internal" href="#the-band-input-dictionary"><code class="docutils literal notranslate"><span class="pre">band_input</span></code> 字典</a></li>
</ul>
</li>
<li><a class="reference internal" href="#using-gdal-s-virtual-filesystem">使用 GDAL 的虚拟文件系统</a><ul>
<li><a class="reference internal" href="#using-memory-based-virtual-filesystem">使用基于内存的虚拟文件系统</a></li>
<li><a class="reference internal" href="#using-other-virtual-filesystems">使用其他虚拟文件系统</a><ul>
<li><a class="reference internal" href="#compressed-rasters">压缩的栅格</a></li>
<li><a class="reference internal" href="#network-rasters">网络栅格</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#settings">配置</a><ul>
<li><a class="reference internal" href="#gdal-library-path"><code class="docutils literal notranslate"><span class="pre">GDAL_LIBRARY_PATH</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#exceptions">异常</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一个主题</h4>
    <p class="topless"><a href="geos.html"
                          title="上一章">GEOS API</a></p>
  </div>
  <div>
    <h4>下一个主题</h4>
    <p class="topless"><a href="geoip2.html"
                          title="下一章">用 GeoIP2 进行地理定位</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/ref/contrib/gis/gdal.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
              <h3>Last update:</h3>
              <p class="topless">3月 29, 2024</p>
          </div>
        
      
    </div>

    <div id="ft">
      <div class="nav">
    &laquo; <a href="geos.html" title="GEOS API">previous</a>
     |
    <a href="../../index.html" title="API 参考" accesskey="U">up</a>
   |
    <a href="geoip2.html" title="用 GeoIP2 进行地理定位">next</a> &raquo;</div>
    </div>
  </div>

      <div class="clearer"></div>
    </div>
  </body>
</html>